<div class="container-fluid">
    <wj-flex-grid #theGrid [isReadOnly]="true" [selectionMode]="'Row'" [itemsSource]="data"
        (formatItem)="formatItem(theGrid, $event)" (initialized)="initGrid(theGrid)">
        <wj-flex-grid-column [binding]="'id'" [header]="'ID'" [width]="50"></wj-flex-grid-column>
        <wj-flex-grid-column [binding]="'country'" [header]="'Country'" [isRequired]="true" [dataMap]="countries">
        </wj-flex-grid-column>
        <wj-flex-grid-column [binding]="'sales'" [header]="'Sales'" [format]="'n2'"></wj-flex-grid-column>
        <wj-flex-grid-column [binding]="'expenses'" [header]="'Expenses'" [format]="'n2'"></wj-flex-grid-column>
    </wj-flex-grid>

    <!-- the popup editor -->
    <wj-popup #thePopup [ngClass]="'modal-content'">
        <div class="modal-header">
            <button type="button" tabindex="-1" class="close wj-hide">&times;</button>
            <h4 class="modal-title">Edit Item {{ current?.id }}</h4>
        </div>
        <div *ngIf="current != null" class="modal-body">
            <div class="wj-labeled-input">
                <wj-combo-box id="country" [itemsSource]="countries" [(text)]="current.country"></wj-combo-box>
                <label for="country">Country</label>
            </div>
            <div class="wj-labeled-input">
                <wj-input-number id="sales" [format]="'n2'" [min]="0" [step]="100" [(value)]="current.sales">
                </wj-input-number>
                <label for="sales">Sales</label>
            </div>
            <div class="wj-labeled-input">
                <wj-input-number id="expenses" [format]="'n2'" [min]="0" [step]="100" [(value)]="current.expenses">
                </wj-input-number>
                <label for="expenses">Expenses</label>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary wj-hide-ok">OK</button>
                <button type="button" class="btn btn-default wj-hide">Cancel</button>
            </div>
        </div>
    </wj-popup>
</div>