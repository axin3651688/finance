/*!
    *
    * Wijmo Library 5.20191.603
    * http://wijmo.com/
    *
    * Copyright(c) GrapeCity, Inc.  All rights reserved.
    *
    * Licensed under the GrapeCity Commercial License.
    * sales@wijmo.com
    * wijmo.com/products/wijmo-5/license/
    *
    */

var wijmo,__extends=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function a(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(a.prototype=i.prototype,new a)}}();!function(t){!function(e){!function(e){"use strict";var i=function(i){function a(){return null!==i&&i.apply(this,arguments)||this}return __extends(a,i),Object.defineProperty(a.prototype,"chartType",{get:function(){return this._finChartType},set:function(i){(i=t.asEnum(i,e.FinancialChartType,!0))!=this._finChartType&&(this._finChartType=i,this._invalidate())},enumerable:!0,configurable:!0}),a.prototype._getChartType=function(){var i=null;switch(this.chartType){case e.FinancialChartType.Area:i=t.chart.ChartType.Area;break;case e.FinancialChartType.Line:case e.FinancialChartType.Kagi:case e.FinancialChartType.PointAndFigure:i=t.chart.ChartType.Line;break;case e.FinancialChartType.Column:case e.FinancialChartType.ColumnVolume:i=t.chart.ChartType.Column;break;case e.FinancialChartType.LineSymbols:i=t.chart.ChartType.LineSymbols;break;case e.FinancialChartType.Scatter:i=t.chart.ChartType.Scatter;break;case e.FinancialChartType.Candlestick:case e.FinancialChartType.Renko:case e.FinancialChartType.HeikinAshi:case e.FinancialChartType.LineBreak:case e.FinancialChartType.EquiVolume:case e.FinancialChartType.CandleVolume:case e.FinancialChartType.ArmsCandleVolume:i=t.chart.ChartType.Candlestick;break;case e.FinancialChartType.HighLowOpenClose:i=t.chart.ChartType.HighLowOpenClose}return i},a.prototype.getDataRect=function(e,i){if(i)return i;var a=this.getValues(0),n=this.getValues(1)||(this.chart._xvals&&this.chart._xvals.length?this.chart._xvals:null),r=this._getBinding(0),s=this._getBinding(1),o=this._getBinding(2),h=this._getBinding(3),l=(this._plotter,this._getChartType()||this.chart._getChartType());if(l!==t.chart.ChartType.HighLowOpenClose&&l!==t.chart.ChartType.Candlestick||r===s)return null;if(a){for(var c=NaN,u=NaN,_=NaN,g=NaN,p=a.length,f=0;f<p;f++){var d=this._getItem(f),m=a[f];if(isFinite(m))[m,s?d[s]:null,o?d[o]:null,h?d[h]:null].forEach(function(e){t.chart._DataInfo.isValid(e)&&null!==e&&((isNaN(u)||e<u)&&(u=e),(isNaN(g)||e>g)&&(g=e))});if(n){var y=n[f];isFinite(y)&&(isNaN(c)?c=_=y:y<c?c=y:m>g&&(_=y))}}if(n||(c=0,_=p-1),!isNaN(u))return new t.Rect(c,u,_-c,g-u)}return null},a}(t.chart.SeriesBase);e.FinancialSeries=i}(e.finance||(e.finance={}))}(t.chart||(t.chart={}))}(wijmo||(wijmo={})),function(t){!function(e){!function(e){"use strict";function i(e){return arguments.length>1&&(e=Array.prototype.slice.call(arguments)),t.asArray(e,!1),e.reduce(function(e,i){return e+t.asNumber(i)},0)}function a(e){return arguments.length>1&&(e=Array.prototype.slice.call(arguments)),t.asArray(e,!1),i(e)/e.length}function n(e){arguments.length>1&&(e=Array.prototype.slice.call(arguments)),t.asArray(e,!1);var i=a(e);return a(e.map(function(t){return Math.pow(t-i,2)}))}function r(e,i,a,n){void 0===n&&(n=14),t.asArray(e,!1),t.asArray(i,!1),t.asArray(a,!1),t.asInt(n,!1,!0);var r=Math.min(e.length,i.length,a.length),s=[];t.assert(r>n&&n>1,"True Range period must be an integer less than the length of the data and greater than one.");for(var o=0;o<r;o++)t.asNumber(e[o],!1),t.asNumber(i[o],!1),t.asNumber(a[o],!1),0===o?s.push(e[o]-i[o]):s.push(Math.max(e[o]-i[o],Math.abs(e[o]-a[o-1]),Math.abs(i[o]-a[o-1])));return s}function s(e,i){t.asArray(e,!1),t.asNumber(i,!1,!0),t.assert(e.length>i&&i>1,"Simple Moving Average period must be an integer less than the length of the data and greater than one.");for(var n=[],r=i;r<=e.length;r++)n.push(a(e.slice(r-i,r)));return n}e._trunc=function(e){return t.asNumber(e,!0,!1),e>0?Math.floor(e):Math.ceil(e)},e._sum=i,e._average=a,e._minimum=function(e){return arguments.length>1&&(e=Array.prototype.slice.call(arguments)),t.asArray(e,!1),Math.min.apply(null,e)},e._maximum=function(e){return arguments.length>1&&(e=Array.prototype.slice.call(arguments)),t.asArray(e,!1),Math.max.apply(null,e)},e._variance=n,e._stdDeviation=function(e){return arguments.length>1&&(e=Array.prototype.slice.call(arguments)),t.asArray(e,!1),Math.sqrt(n(e))},e._avgTrueRng=function(e,i,n,s){void 0===s&&(s=14),t.asArray(e,!1),t.asArray(i,!1),t.asArray(n,!1),t.asInt(s,!1,!0);var o=r(e,i,n,s),h=Math.min(e.length,i.length,n.length,o.length),l=[];t.assert(h>s&&s>1,"Average True Range period must be an integer less than the length of the data and greater than one.");for(var c=0;c<h;c++)t.asNumber(e[c],!1),t.asNumber(i[c],!1),t.asNumber(n[c],!1),t.asNumber(o[c],!1),c+1===s?l.push(a(o.slice(0,s))):c+1>s&&l.push(((s-1)*l[l.length-1]+o[c])/s);return l},e._trueRng=r,e._sma=s,e._ema=function(e,i){t.asArray(e,!1),t.asNumber(i,!1,!0),t.assert(e.length>i&&i>1,"Exponential Moving Average period must be an integer less than the length of the data and greater than one.");var a=[],n=2/(i+1),r=s(e,i);e=e.slice(i-1);for(var o=0;o<e.length;o++)0===o?a.push(r[0]):a.push((e[o]-a[o-1])*n+a[o-1]);return a},e._range=function(e,i,a){void 0===a&&(a=1),t.asNumber(e,!1),t.asNumber(i,!1),t.asNumber(a,!1),t.assert(e<i,"begin argument must be less than end argument.");for(var n=[],r=e;r<=i;r+=a)n.push(r);return n}}(e.finance||(e.finance={}))}(t.chart||(t.chart={}))}(wijmo||(wijmo={})),function(t){!function(t){!function(t){"use strict";var e=function(){function t(t,e,i,a){this.highs=t,this.lows=e,this.opens=i,this.closes=a}return t.prototype.calculate=function(){},t}();t._BaseCalculator=e;var i=function(e){function i(t,i,a,n){return e.call(this,t,i,a,n)||this}return __extends(i,e),i.prototype.calculate=function(){var e,i,a,n,r=Math.min(this.highs.length,this.lows.length,this.opens.length,this.closes.length),s=[];if(r<=0)return s;for(var o=0;o<r;o++)n=t._average(this.highs[o],this.lows[o],this.opens[o],this.closes[o]),0===o?(a=t._average(this.opens[o],this.closes[o]),e=this.highs[o],i=this.lows[o]):(a=t._average(s[o-1].open,s[o-1].close),e=Math.max(this.highs[o],a,n),i=Math.min(this.lows[o],a,n)),s.push({high:e,low:i,close:n,open:a,pointIndex:o,x:null});return s},i}(e);t._HeikinAshiCalculator=i;var a=function(e){function i(t,i,a,n,r,s,o,h){var l=e.call(this,t,i,a,n)||this;return l.xs=r,l.size=s,l.unit=o,l.fields=h,l}return __extends(i,e),i.prototype._getValues=function(){var e,i=[],a=Math.min(this.highs.length,this.lows.length,this.opens.length,this.closes.length);switch(this.fields){case t.DataFields.High:i=this.highs;break;case t.DataFields.Low:i=this.lows;break;case t.DataFields.Open:i=this.opens;break;case t.DataFields.HL2:for(e=0;e<a;e++)i.push(t._average(this.highs[e],this.lows[e]));break;case t.DataFields.HLC3:for(e=0;e<a;e++)i.push(t._average(this.highs[e],this.lows[e],this.closes[e]));break;case t.DataFields.HLOC4:for(e=0;e<a;e++)i.push(t._average(this.highs[e],this.lows[e],this.opens[e],this.closes[e]));break;case t.DataFields.Close:default:i=this.closes}return i},i.prototype._getSize=function(){var e=this.unit===t.RangeMode.ATR?t._avgTrueRng(this.highs,this.lows,this.closes,this.size):null;return this.unit===t.RangeMode.ATR?e[e.length-1]:this.size},i}(e);t._BaseRangeCalculator=a;var n=function(t){function e(e,i,a,n,r,s){return t.call(this,e,i,a,n,r,s)||this}return __extends(e,t),e.prototype.calculate=function(){var t=null!==this.xs&&this.xs.length>0,e=this.closes.length,i=[],a=[[],[]];if(e<=0)return i;for(var n,r,s,o,h,l,c=[],u=1;u<e;u++){if(o=i.length-1,r=t?this.xs[u]:u,s=this.closes[u],-1===o){if((n=this.closes[0])===s)continue}else if(c=this._trendExists(a)||1===this.size?a[0].slice(-this.size).concat(a[1].slice(-this.size)):a[0].slice(1-this.size).concat(a[1].slice(1-this.size)),h=Math.max.apply(null,c),l=Math.min.apply(null,c),s>h)n=Math.max(a[0][o],a[1][o]);else{if(!(s<l))continue;n=Math.min(a[0][o],a[1][o])}a[0].push(n),a[1].push(s),i.push({high:Math.max(n,s),low:Math.min(n,s),open:n,close:s,x:r,pointIndex:u})}return i},e.prototype._trendExists=function(t){if(t[1].length<this.size)return!1;var e,i=!1,a=t[1].slice(-this.size);for(e=1;e<this.size&&(i=a[e]>a[e-1]);e++);if(!i)for(e=1;e<this.size&&(i=a[e]<a[e-1]);e++);return i},e}(a);t._LineBreakCalculator=n;var r=function(e){function i(t,i,a,n,r,s,o,h){return e.call(this,t,i,a,n,r,s,o,h)||this}return __extends(i,e),i.prototype.calculate=function(){var e,i,a,n,r,s,o,h,l,c=this._getSize(),u=Math.min(this.highs.length,this.lows.length,this.opens.length,this.closes.length),_=this._getValues(),g=null!==this.xs&&this.xs.length>0,p=[],f=[[],[]];if(u<=0)return p;for(var d=1;d<u;d++){if(n=p.length-1,i=g?this.xs[d]:d,l=d,h=!1,this.fields===t.DataFields.HighLow)if(-1===n)if(this.highs[d]>this.highs[0])a=this.highs[d];else{if(!(this.lows[d]<this.lows[0]))continue;a=this.lows[d]}else if((o=f[1][n]-f[0][n])>0)if(this.highs[d]>f[1][n])a=this.highs[d];else{if(!(this.lows[d]<f[1][n]))continue;a=this.lows[d]}else if(this.lows[d]<f[1][n])a=this.lows[d];else{if(!(this.highs[d]>f[1][n]))continue;a=this.highs[d]}else a=_[d];if(this.unit===t.RangeMode.Percentage&&(c=a*this.size),-1===n){if(i=g?this.xs[0]:0,l=0,e=this.fields===t.DataFields.HighLow?null==this.highs[0]?this.highs[this.highs.length-1]:this.highs[0]:null==_[0]?_[_.length-1]:_[0],(o=Math.abs(e-a)||0)<c)continue}else if(o=f[1][n]-f[0][n],s=Math.max(f[0][n],f[1][n]),r=Math.min(f[0][n],f[1][n]),o>0)if(a>s)h=!0;else{if(!((o=s-a)>=c))continue;e=s}else if(a<r)h=!0;else{if(!((o=a-r)>=c))continue;e=r}h?(f[1][n]=a,p[n].close=a,p[n].high=Math.max(p[n].open,p[n].close),p[n].low=Math.min(p[n].open,p[n].close)):(f[0].push(e),f[1].push(a),p.push({high:Math.max(e,a),low:Math.min(e,a),open:e,close:a,x:i,pointIndex:l}))}return p},i}(a);t._KagiCalculator=r;var s=function(e){function i(t,i,a,n,r,s,o,h,l){void 0===l&&(l=!1);var c=e.call(this,t,i,a,n,r,s,o,h)||this;return c.rounding=l,c}return __extends(i,e),i.prototype.calculate=function(){var e,i,a,n,r,s,o,h=this._getSize(),l=Math.min(this.highs.length,this.lows.length,this.opens.length,this.closes.length),c=null!==this.xs&&this.xs.length>0,u=this._getValues(),_=[],g=[[],[]];if(l<=0)return _;for(var p=1;p<l;p++){if(n=_.length-1,i=c?this.xs[p]:p,this.fields===t.DataFields.HighLow)if(-1===n)if(this.highs[p]-this.highs[0]>h)e=this.highs[0],a=this.highs[p];else{if(!(this.lows[0]-this.lows[p]>h))continue;e=this.lows[0],a=this.lows[p]}else if(r=Math.min(g[0][n],g[1][n]),s=Math.max(g[0][n],g[1][n]),this.highs[p]-s>h)e=s,a=this.highs[p];else{if(!(r-this.lows[p]>h))continue;e=r,a=this.lows[p]}else if(a=u[p],-1===n)e=u[0];else if(r=Math.min(g[0][n],g[1][n]),a>(s=Math.max(g[0][n],g[1][n])))e=s;else{if(!(a<r))continue;e=r}if(o=a-e,!(Math.abs(o)<h)){o=t._trunc(o/h);for(var f=0;f<Math.abs(o);f++){var d={};this.rounding&&(e=this._round(e,h)),g[0].push(e),d.open=e,e=o>0?e+h:e-h,g[1].push(e),d.close=e,d.x=i,d.pointIndex=p,d.high=Math.max(d.open,d.close),d.low=Math.min(d.open,d.close),_.push(d)}}}return _},i.prototype._round=function(t,e){return Math.round(t/e)*e},i}(a);t._RenkoCalculator=s}(t.finance||(t.finance={}))}(t.chart||(t.chart={}))}(wijmo||(wijmo={})),function(t){!function(e){!function(e){"use strict";var i=function(e){function i(){var t=e.call(this)||this;return t._symFactor=.7,t.clear(),t}return __extends(i,e),i.prototype.clear=function(){e.prototype.clear.call(this),this._rangeValues=null,this._rangeXLabels=null,this._calculator=null},i.prototype.unload=function(){var t,i;e.prototype.unload.call(this);for(var a=0;a<this.chart.series.length;a++)(t=this.chart.series[a])&&(i=t._getAxisX())&&i.itemsSource&&(i.itemsSource=null)},i.prototype.adjustLimits=function(e,i){var a,n,r,s=0,o=0,h=0,l=0,c=this.chart._xDataType===t.DataType.Date?.5:0;t.assert(this.chart.series.length<=1,"Current FinancialChartType only supports a single series");for(var u=0;u<this.chart.series.length;u++)a=this.chart.series[u],this._calculate(a),this._rangeValues.length<=0||this._rangeXLabels.length<=0||((n=this._rangeValues.map(function(t){return t.open})).push.apply(n,this._rangeValues.map(function(t){return t.close})),r=this._rangeXLabels.map(function(t){return t.value}),h=Math.min.apply(null,n),l=Math.max.apply(null,n),s=Math.min.apply(null,r),o=Math.max.apply(null,r),a._getAxisX().itemsSource=this._rangeXLabels);return s-=c,new t.Rect(s,h,o-s+c,l-h)},i.prototype.plotSeries=function(e,i,a,n,r,s,o){var h=this;this._calculate(n);var l=this.chart.series.indexOf(n),c=this._rangeValues.length,u=i.actualMin,_=i.actualMax,g=this._DEFAULT_WIDTH,p=this._symFactor,f=n._getSymbolFill(l),d=n._getAltSymbolFill(l)||"transparent",m=n._getSymbolStroke(l),y=n._getAltSymbolStroke(l)||m;e.strokeWidth=g;for(var v,x,w,b,k=0,C=this.getItemFormatter(n),P=0;P<c;P++)if(v=P,t.chart._DataInfo.isValid(v)&&u<=v&&v<=_){if(x=this._rangeValues[P].open,w=this._rangeValues[P].close,e.fill=x>w?f:d,e.stroke=x>w?m:y,b=this._getDataPoint(l,P,n,Math.max(x,w)),e.startGroup(),C){var V=new t.chart.HitTestInfo(this.chart,new t.Point(i.convert(v),a.convert(w)),t.chart.ChartElement.SeriesSymbol);V._setData(n,P),V._setDataPoint(b),C(e,V,function(){h._drawSymbol(e,i,a,l,k,p,v,x,w,b)})}else this._drawSymbol(e,i,a,l,k,p,v,x,w,b);e.endGroup(),n._setPointIndex(P,k),k++}},i.prototype._drawSymbol=function(e,i,a,n,r,s,o,h,l,c){var u,_,g,p,f;if((g=i.convert(o-.5*s))>(p=i.convert(o+.5*s))){var d=g;g=p,p=d}t.chart._DataInfo.isValid(h)&&t.chart._DataInfo.isValid(l)&&(h=a.convert(h),l=a.convert(l),_=(u=Math.min(h,l))+Math.abs(h-l),e.drawRect(g,u,p-g,_-u),(f=new t.chart._RectArea(new t.Rect(g,u,p-g,_-u))).tag=c,this.hitTester.add(f,n))},i.prototype._getDataPoint=function(e,i,a,n){var r=i,s=new t.chart._DataPoint(e,i,r,n),o=a._getItem(this._rangeValues[i].pointIndex),h=a.bindingX||this.chart.bindingX,l=a._getBinding(0),c=a._getBinding(1),u=a._getBinding(2),_=a._getBinding(3),g=a._getAxisY();return s.item=t.chart._BasePlotter.cloneStyle(o,[]),s.item[l]=this._rangeValues[i].high,s.item[c]=this._rangeValues[i].low,s.item[u]=this._rangeValues[i].open,s.item[_]=this._rangeValues[i].close,s.y=this._rangeValues[i].close,s.yfmt=g._formatValue(this._rangeValues[i].close),s.x=s.item[h],s.xfmt=this._rangeXLabels[i]._text,s},i.prototype._init=function(){this._rangeValues=[],this._rangeXLabels=[]},i.prototype._calculate=function(t){},i.prototype._generateXLabels=function(e){var i,a=this,n=e._getAxisX(),r=e.getDataType(1)||this.chart._xDataType;this._rangeValues.forEach(function(e,s){var o=e.x;i=r===t.DataType.Date?t.Globalize.format(t.chart.FlexChart._fromOADate(o),n.format||"d"):r===t.DataType.Number?n._formatValue(o):null!==r&&r!==t.DataType.String||!a.chart._xlabels?o.toString():a.chart._xlabels[o],a._rangeXLabels.push({value:s,text:i,_text:i})},this)},i}(t.chart._BasePlotter);e._BaseRangePlotter=i,function(t){t[t.Close=0]="Close",t[t.High=1]="High",t[t.Low=2]="Low",t[t.Open=3]="Open",t[t.HighLow=4]="HighLow",t[t.HL2=5]="HL2",t[t.HLC3=6]="HLC3",t[t.HLOC4=7]="HLOC4"}(e.DataFields||(e.DataFields={})),function(t){t[t.Fixed=0]="Fixed",t[t.ATR=1]="ATR",t[t.Percentage=2]="Percentage"}(e.RangeMode||(e.RangeMode={}))}(e.finance||(e.finance={}))}(t.chart||(t.chart={}))}(wijmo||(wijmo={})),function(t){var e;(function(e){"use strict";var i;!function(t){t[t.Traditional=0]="Traditional",t[t.Fixed=1]="Fixed",t[t.Dynamic=2]="Dynamic"}(i=e.PointAndFigureScaling||(e.PointAndFigureScaling={}));var a=function(a){function n(){return a.call(this)||this}return __extends(n,a),n.prototype.clear=function(){a.prototype.clear.call(this),this._boxSize=null,this._fields=null,this._reversal=null,this._scaling=null},n.prototype.unload=function(){a.prototype.unload.call(this),this.chart.axisX.itemsSource=this._xlbls},n.prototype._init=function(){this._boxSize=this.getNumOption("boxSize","pointAndFigure")||1,this._reversal=this.getNumOption("reversal","pointAndFigure")||3,this._period=this.getNumOption("period","pointAndFigure")||20,this._fields=this.getOption("fields","pointAndFigure")||e.DataFields.Close,this._fields=t.asEnum(this._fields,e.DataFields,!0),t.assert(this._fields==e.DataFields.Close||this._fields==e.DataFields.HighLow,"Only DataFields.Close and DataFields.HighLow are supported"),this._scaling=this.getOption("scaling","pointAndFigure")||i.Traditional,this._scaling=t.asEnum(this._scaling,i,!0),this._xlbls=[]},n.prototype.adjustLimits=function(i,a){this._init(),this.hitTester.clear();var n=new t.Rect(0,0,0,0),r=this.chart.series.length;if(t.assert(r<=1,"Current FinancialChartType only supports a single series"),r>0){var s=this.chart.series[0],o=this._reversal,h=s.collectionView?s.collectionView:this.chart.collectionView,l=h?h.items:null;if(l&&l.length>0){var c=s._getBinding(0),u=s._getBinding(1),_=s._getBinding(2),g=s._getBinding(3);this._fields==e.DataFields.Close&&(g?c=g:_&&(c=_),u=c);var p=s.bindingX?s.bindingX:this.chart.bindingX,f=this._actualBoxSize=this.calcBoxSize(l,c,u);if(this._pfdata=this.calcPFHiLo2(l,c,u,p,f,o),this._pfdata&&this._pfdata.length>0){var d=this._pfdata.reduce(function(t,e){return Math.max(t,e.max)},this._pfdata[0].max),m=this._pfdata.reduce(function(t,e){return Math.min(t,e.min)},this._pfdata[0].min);n=new t.Rect(-.5,m-.5*f,this._pfdata.length,d-m+f);for(var y=1;y<this._pfdata.length;y++){var v=this._pfdata[y-1],x=this._pfdata[y];t.isDate(x.date)&&t.isDate(v.date)&&x.date.getYear()!=v.date.getYear()&&this._xlbls.push({value:y,text:t.Globalize.formatNumber(x.date.getFullYear()%100,"d2")})}}}}return 0==this._xlbls.length&&this._xlbls.push({value:0}),this.axisYMajorGrid=this.chart.axisY.majorGrid,this.chart.axisY.majorGrid=!1,this.chart.axisX.itemsSource=this._xlbls,n},n.prototype.plotSeries=function(t,e,i,a,n,r,s){if(this._pfdata&&this._pfdata.length>0){var o=this._actualBoxSize;this.renderGrid(t,this._pfdata,o),this.renderData(this.chart,t,this._pfdata,o)}this.chart.axisY.majorGrid=this.axisYMajorGrid},n.prototype.calcBoxSize=function(t,a,n){var r=t.reduce(function(t,e){return Math.max(t,e[a])},t[0][a]),s=t.reduce(function(t,e){return Math.min(t,e[n])},t[0][n]),o=this._boxSize,h=r-s;switch(this._scaling){case i.Traditional:h<.25?o=.0625:h>=.25&&h<1?o=.125:h>=1&&h<5?o=.25:h>=5&&h<20?o=.5:h>=20&&h<100?o=1:h>=100&&h<200?o=2:h>=200&&h<500?o=4:h>=500&&h<1e3?o=5:h>=1e3&&h<25e3?o=50:h>-25e3&&(o=500);break;case i.Dynamic:var l=this.chart.series[0],c=l._getBindingValues(0),u=l._getBindingValues(1),_=(l._getBindingValues(2),l._getBindingValues(3)),g=e._avgTrueRng(c,u,_,this._period);o=g[g.length-1];break;case i.Fixed:}return o},n.prototype.calcPFHiLo2=function(e,i,a,n,r,s){for(var o=[],h=0;h<e.length;h++){var l=e[h][i],c=e[h][a];t.assert(l>=c,"'High' value must be larger than 'low' value.");var u=e[h][n];if(0==o.length)o.push({min:this.roundDown(c,r),max:this.roundDown(l,r),rise:!1,date:u});else{var _=o[o.length-1];if(_.rise){var g=_.max+r,p=_.max-s*r;this.roundUp(l,r)>=g?_.max=this.roundUp(l,r):c<=p&&o.push({min:this.roundDown(c,r),max:_.max-r,rise:!1,date:u})}else g=_.min-r,p=_.min+s*r,this.roundDown(c,r)<=g?_.min=this.roundDown(c,r):l>=p&&o.push({min:_.min+r,max:this.roundUp(l,r),rise:!0,date:u})}}if(o.length>0){var f=o[0];f.min==f.max&&o.splice(0,1)}return o},n.prototype.roundUp=function(t,e){return Math.ceil(t/e-.999999)*e},n.prototype.roundDown=function(t,e){return Math.floor(t/e+.999999)*e},n.prototype.renderGrid=function(e,i,a){if(this._pfdata){for(var n=this._pfdata.reduce(function(t,e){return Math.max(t,e.max)},this._pfdata[0].max),r=this._pfdata.reduce(function(t,e){return Math.min(t,e.min)},this._pfdata[0].min),s=this.chart,o=this._pfdata.length,h=r-.5*a;h<=n+a;h+=a){var l=new t.Point(-.5,h);l=s.dataToPoint(l);var c=new t.Point(o,h);c=s.dataToPoint(c),e.stroke=t.chart.FlexChartCore._FG,e.strokeWidth=1,e.drawLine(l.x,l.y,c.x,c.y,t.chart.FlexChartCore._CSS_GRIDLINE)}for(var u=-.5;u<=o;u+=1)l=new t.Point(u,this.chart.axisY.actualMin),l=s.dataToPoint(l),c=new t.Point(u,this.chart.axisY.actualMax),c=s.dataToPoint(c),e.stroke=t.chart.FlexChartCore._FG,e.strokeWidth=1,e.drawLine(l.x,l.y,c.x,c.y,t.chart.FlexChartCore._CSS_GRIDLINE)}},n.prototype.renderData=function(e,i,a,n){for(var r=e.series[0],s=r._getSymbolStroke(0),o=r._getAltSymbolStroke(0)||s,h=0;h<a.length;h++){var l=a[h],c=(a[h].max-a[h].min)/n;if(0!=c){var u=new t.Point(h-.5,l.min);u=e.dataToPoint(u);var _=new t.Point(h+.5,l.max);_=e.dataToPoint(_),i.fill="transparent";for(var g=(_.y-u.y)/c,p=0;p<c+1;p++)if(i.strokeWidth=1.5,l.rise?(i.stroke=s,i.drawLine(u.x,u.y+(p-.5)*g,_.x,u.y+(p+.5)*g),i.drawLine(_.x,u.y+(p-.5)*g,u.x,u.y+(p+.5)*g)):(i.stroke=o,i.drawEllipse(.5*(u.x+_.x),u.y+p*g,.5*Math.abs(u.x-_.x),.5*Math.abs(g))),this.hitTester){var f=l.min+p*n,d=new t.chart._DataPoint(0,h,l.date,f);d.y=f,d.yfmt=this.chart.axisY._formatValue(f),t.isDate(l.date)&&(d.x=l.date,d.xfmt=t.Globalize.formatDate(l.date,"d"));var m=new t.Rect(Math.min(u.x,_.x),u.y+p*g-.5*g,Math.abs(_.x-u.x),g);m.height<0&&(m.top+=g,m.height=-m.height);var y=new t.chart._RectArea(m);y.tag=d,this.hitTester.add(y,0)}}}},n}(t.chart._BasePlotter);e._PointAndFigurePlotter=a})((e=t.chart||(t.chart={})).finance||(e.finance={}))}(wijmo||(wijmo={})),function(t){!function(e){!function(e){"use strict";var i=function(i){function a(){return i.call(this)||this}return __extends(a,i),a.prototype._calculate=function(i){this._init();var a=i._getBindingValues(0),n=i._getBindingValues(1),r=i._getBindingValues(2),s=i._getBindingValues(3),o=i.getValues(1)||this.chart._xvals;this._calculator=new e._KagiCalculator(a,n,r,s,o,this._reversalAmount,this._rangeMode,this._fields),this._rangeValues=this._calculator.calculate(),(null===this._rangeValues||t.isUndefined(this._rangeValues))&&(this._rangeValues=[]),this._generateXLabels(i)},a.prototype.plotSeries=function(e,i,a,n,r,s,o){this._calculate(n);var h=this.chart.series.indexOf(n),l=this._rangeValues.length,c=i.actualMin,u=i.actualMax,_=this._DEFAULT_WIDTH,g=n._getSymbolStroke(h),p=n._getAltSymbolStroke(h)||g,f=[],d=[];e.stroke=g,e.strokeWidth=_;var m,y,v,x,w,b,k,C=0;e.startGroup();for(var P=0;P<l;P++)m=P,t.chart._DataInfo.isValid(m)&&c<=m&&m<=u&&(y=this._rangeValues[P].open,v=this._rangeValues[P].close,0===P?(x=Math.min(y,v),w=Math.max(y,v),e.strokeWidth=y>v?_:2*_,e.stroke=y>v?g:p,e.drawLine(i.convert(m),a.convert(y),i.convert(m),a.convert(v)),e.drawLine(i.convert(m-1)-e.strokeWidth/2,a.convert(y),i.convert(m)+e.strokeWidth/2,a.convert(y))):e.strokeWidth===_?v>y?(v>w?(e.drawLine(i.convert(m),a.convert(y),i.convert(m),a.convert(w)),e.strokeWidth=2*_,e.stroke=p,e.drawLine(i.convert(m),a.convert(w),i.convert(m),a.convert(v)),x=y):e.drawLine(i.convert(m),a.convert(y),i.convert(m),a.convert(v)),w=v):e.drawLine(i.convert(m),a.convert(y),i.convert(m),a.convert(v)):e.strokeWidth/2===_&&(v<y?(v<x?(e.drawLine(i.convert(m),a.convert(y),i.convert(m),a.convert(x)),e.strokeWidth=_,e.stroke=g,e.drawLine(i.convert(m),a.convert(x),i.convert(m),a.convert(v)),w=y):e.drawLine(i.convert(m),a.convert(y),i.convert(m),a.convert(v)),x=v):e.drawLine(i.convert(m),a.convert(y),i.convert(m),a.convert(v))),P<l-1&&e.drawLine(i.convert(m)-e.strokeWidth/2,a.convert(v),i.convert(m+1)+e.strokeWidth/2,a.convert(v)),k=this._getDataPoint(h,P,n,v),(b=new t.chart._CircleArea(new t.Point(i.convert(m),a.convert(v)),.5*e.strokeWidth)).tag=k,this.hitTester.add(b,h),n._setPointIndex(P,C),C++,f.push(i.convert(m)),d.push(a.convert(y)),f.push(i.convert(m)),d.push(a.convert(v)));e.endGroup(),this.hitTester.add(new t.chart._LinesArea(f,d),h)},a.prototype._init=function(){i.prototype._init.call(this),this._reversalAmount=this.getNumOption("reversalAmount","kagi")||14,this._rangeMode=this.getOption("rangeMode","kagi")||e.RangeMode.Fixed,this._rangeMode=t.asEnum(this._rangeMode,e.RangeMode,!0),this._fields=this.getOption("fields","kagi")||e.DataFields.Close,this._fields=t.asEnum(this._fields,e.DataFields,!0)},a.prototype.clear=function(){i.prototype.clear.call(this),this._reversalAmount=null,this._rangeMode=null},a}(e._BaseRangePlotter);e._KagiPlotter=i}(e.finance||(e.finance={}))}(t.chart||(t.chart={}))}(wijmo||(wijmo={})),function(t){!function(e){!function(e){"use strict";var i=function(i){function a(){return i.call(this)||this}return __extends(a,i),a.prototype.clear=function(){i.prototype.clear.call(this),this._boxSize=null,this._rangeMode=null},a.prototype._calculate=function(i){this._init();var a=i._getBindingValues(0),n=i._getBindingValues(1),r=i._getBindingValues(2),s=i._getBindingValues(3),o=i.getValues(1)||this.chart._xvals;this._calculator=new e._RenkoCalculator(a,n,r,s,o,this._boxSize,this._rangeMode,this._fields,this._rounding),this._rangeValues=this._calculator.calculate(),(null===this._rangeValues||t.isUndefined(this._rangeValues))&&(this._rangeValues=[]),this._generateXLabels(i)},a.prototype._init=function(){i.prototype._init.call(this),this._boxSize=this.getNumOption("boxSize","renko")||14,this._rangeMode=this.getOption("rangeMode","renko")||e.RangeMode.Fixed,this._rangeMode=t.asEnum(this._rangeMode,e.RangeMode,!0),t.assert(this._rangeMode!==e.RangeMode.Percentage,"RangeMode.Percentage is not supported"),this._fields=this.getOption("fields","renko")||e.DataFields.Close,this._fields=t.asEnum(this._fields,e.DataFields,!0),t.assert(this._fields!==e.DataFields.HighLow,"DataFields.HighLow is not supported"),this._rounding=t.asBoolean(this.getOption("rounding","renko"),!0)},a.prototype._generateXLabels=function(t){var e=this;i.prototype._generateXLabels.call(this,t),this._rangeXLabels.forEach(function(t,i){i>0&&e._rangeXLabels[i-1]._text===t.text&&(t.text="")},this)},a}(e._BaseRangePlotter);e._RenkoPlotter=i}(e.finance||(e.finance={}))}(t.chart||(t.chart={}))}(wijmo||(wijmo={})),function(t){!function(e){!function(e){"use strict";var i=function(i){function a(){return i.call(this)||this}return __extends(a,i),a.prototype.clear=function(){i.prototype.clear.call(this),this._newLineBreaks=null},a.prototype._calculate=function(i){this._init();var a=i._getBindingValues(3),n=i.getValues(1)||this.chart._xvals;this._calculator=new e._LineBreakCalculator(null,null,null,a,n,this._newLineBreaks),this._rangeValues=this._calculator.calculate(),(null===this._rangeValues||t.isUndefined(this._rangeValues))&&(this._rangeValues=[]),this._generateXLabels(i)},a.prototype._init=function(){i.prototype._init.call(this),this._newLineBreaks=t.asInt(this.getNumOption("newLineBreaks","lineBreak"),!0,!0)||3,t.assert(this._newLineBreaks>=1,"Value must be greater than 1")},a}(e._BaseRangePlotter);e._LineBreakPlotter=i}(e.finance||(e.finance={}))}(t.chart||(t.chart={}))}(wijmo||(wijmo={})),function(t){!function(e){!function(e){"use strict";var i=function(i){function a(){var t=i.call(this)||this;return t._symFactor=.7,t.clear(),t}return __extends(a,i),a.prototype.clear=function(){i.prototype.clear.call(this),this._haValues=null,this._calculator=null},a.prototype.plotSeries=function(e,i,a,n,r,s,o){var h=this;this._calculate(n);var l=t.asType(n,t.chart.SeriesBase),c=this.chart.series.indexOf(n),u=n.getValues(1),_=this._symFactor,g=this._haValues.length,p=!0;if(u){var f=this.dataInfo.getDeltaX();f>0&&(_*=f)}else u=this.dataInfo.getXVals();u?g=Math.min(g,u.length):(p=!1,u=new Array(g));var d=this._DEFAULT_WIDTH,m=l._getSymbolFill(c),y=l._getAltSymbolFill(c)||"transparent",v=l._getSymbolStroke(c),x=l._getAltSymbolStroke(c)||v,w=_,b=n.getDataType(1)||n.chart._xDataType;e.strokeWidth=d;for(var k,C,P,V,M,T,A,F,L=i.actualMin,D=i.actualMax,S=0,B=this.getItemFormatter(n),R=0;R<g;R++)if(P=p?u[R]:R,t.chart._DataInfo.isValid(P)&&L<=P&&P<=D){if(M=this._haValues[R].high,T=this._haValues[R].low,A=this._haValues[R].open,F=this._haValues[R].close,k=A<F?y:m,C=A<F?x:v,e.fill=k,e.stroke=C,e.startGroup(),V=this._getDataPoint(c,R,P,n),B){var H=new t.chart.HitTestInfo(this.chart,new t.Point(i.convert(P),a.convert(M)),t.chart.ChartElement.SeriesSymbol);H._setData(l,R),H._setDataPoint(V),B(e,H,function(){h._drawSymbol(e,i,a,c,R,k,w,P,M,T,A,F,V,b)})}else this._drawSymbol(e,i,a,c,R,k,w,P,M,T,A,F,V,b);e.endGroup(),n._setPointIndex(R,S),S++}},a.prototype._drawSymbol=function(e,i,a,n,r,s,o,h,l,c,u,_,g,p){var f,d=null,m=null,y=null,v=null,x=p===t.DataType.Date?432e5:.5;if((y=i.convert(h-x*o))>(v=i.convert(h+x*o))){var w=y;y=v,v=w}h=i.convert(h),t.chart._DataInfo.isValid(u)&&t.chart._DataInfo.isValid(_)&&(u=a.convert(u),_=a.convert(_),m=(d=Math.min(u,_))+Math.abs(u-_),e.drawRect(y,d,v-y,m-d),(f=new t.chart._RectArea(new t.Rect(y,d,v-y,m-d))).tag=g,this.hitTester.add(f,n)),t.chart._DataInfo.isValid(l)&&(l=a.convert(l),null!==d&&(e.drawLine(h,d,h,l),f.rect.top=l,f.rect.height=f.rect.height+l)),t.chart._DataInfo.isValid(c)&&(c=a.convert(c),null!==m&&(e.drawLine(h,m,h,c),f.rect.height=f.rect.height+c))},a.prototype._getDataPoint=function(e,i,a,n){var r=new t.chart._DataPoint(e,i,a,this._haValues[i].high),s=n._getItem(i),o=n._getBinding(0),h=n._getBinding(1),l=n._getBinding(2),c=n._getBinding(3),u=n._getAxisY();return null!=s&&(r.item=t.chart._BasePlotter.cloneStyle(s,[]),r.item[o]=this._haValues[i].high,r.item[h]=this._haValues[i].low,r.item[l]=this._haValues[i].open,r.item[c]=this._haValues[i].close),r.y=this._haValues[i].high,r.yfmt=u._formatValue(this._haValues[i].high),r},a.prototype._calculate=function(i){var a=i._getBindingValues(0),n=i._getBindingValues(1),r=i._getBindingValues(2),s=i._getBindingValues(3);this._calculator=new e._HeikinAshiCalculator(a,n,r,s),this._haValues=this._calculator.calculate(),(null===this._haValues||t.isUndefined(this._haValues))&&this._init()},a.prototype._init=function(){this._haValues=[]},a}(t.chart._FinancePlotter);e._HeikinAshiPlotter=i}(e.finance||(e.finance={}))}(t.chart||(t.chart={}))}(wijmo||(wijmo={})),function(t){!function(e){!function(e){"use strict";var i;!function(t){t[t.Column=0]="Column",t[t.Scatter=1]="Scatter",t[t.Line=2]="Line",t[t.LineSymbols=3]="LineSymbols",t[t.Area=4]="Area",t[t.Candlestick=5]="Candlestick",t[t.HighLowOpenClose=6]="HighLowOpenClose",t[t.HeikinAshi=7]="HeikinAshi",t[t.LineBreak=8]="LineBreak",t[t.Renko=9]="Renko",t[t.Kagi=10]="Kagi",t[t.ColumnVolume=11]="ColumnVolume",t[t.EquiVolume=12]="EquiVolume",t[t.CandleVolume=13]="CandleVolume",t[t.ArmsCandleVolume=14]="ArmsCandleVolume",t[t.PointAndFigure=15]="PointAndFigure"}(i=e.FinancialChartType||(e.FinancialChartType={}));var a=function(a){function n(t,e){var n=a.call(this,t,null)||this;return n._chartType=i.Line,n.__heikinAshiPlotter=null,n.__lineBreakPlotter=null,n.__renkoPlotter=null,n.__kagiPlotter=null,n.__pfPlotter=null,n.initialize(e),n}return __extends(n,a),n.prototype._getProductInfo=function(){return"A78U,FinancialChart"},Object.defineProperty(n.prototype,"chartType",{get:function(){return this._chartType},set:function(e){(e=t.asEnum(e,i))!=this._chartType&&(this._chartType=e,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"options",{get:function(){return this._options},set:function(t){t!=this._options&&(this._options=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_heikinAshiPlotter",{get:function(){return null===this.__heikinAshiPlotter&&(this.__heikinAshiPlotter=new e._HeikinAshiPlotter,this._initPlotter(this.__heikinAshiPlotter)),this.__heikinAshiPlotter},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_lineBreakPlotter",{get:function(){return null===this.__lineBreakPlotter&&(this.__lineBreakPlotter=new e._LineBreakPlotter,this._initPlotter(this.__lineBreakPlotter)),this.__lineBreakPlotter},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_renkoPlotter",{get:function(){return null===this.__renkoPlotter&&(this.__renkoPlotter=new e._RenkoPlotter,this._initPlotter(this.__renkoPlotter)),this.__renkoPlotter},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_kagiPlotter",{get:function(){return null===this.__kagiPlotter&&(this.__kagiPlotter=new e._KagiPlotter,this._initPlotter(this.__kagiPlotter)),this.__kagiPlotter},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_pfPlotter",{get:function(){return null===this.__pfPlotter&&(this.__pfPlotter=new e._PointAndFigurePlotter,this._initPlotter(this.__pfPlotter)),this.__pfPlotter},enumerable:!0,configurable:!0}),n.prototype._getChartType=function(){var e=null;switch(this.chartType){case i.Area:e=t.chart.ChartType.Area;break;case i.Line:case i.Kagi:case i.PointAndFigure:e=t.chart.ChartType.Line;break;case i.Column:case i.ColumnVolume:e=t.chart.ChartType.Column;break;case i.LineSymbols:e=t.chart.ChartType.LineSymbols;break;case i.Scatter:e=t.chart.ChartType.Scatter;break;case i.Candlestick:case i.Renko:case i.HeikinAshi:case i.LineBreak:case i.EquiVolume:case i.CandleVolume:case i.ArmsCandleVolume:e=t.chart.ChartType.Candlestick;break;case i.HighLowOpenClose:e=t.chart.ChartType.HighLowOpenClose}return e},n.prototype._getPlotter=function(e){var n=this.chartType,r=null;if(e){var s=e.chartType;s&&!t.isUndefined(s)&&s!=n&&(n=s,!0)}switch(n){case i.HeikinAshi:r=this._heikinAshiPlotter;break;case i.LineBreak:r=this._lineBreakPlotter;break;case i.Renko:r=this._renkoPlotter;break;case i.Kagi:r=this._kagiPlotter;break;case i.ColumnVolume:(r=a.prototype._getPlotter.call(this,e)).isVolume=!0,r.width=1;break;case i.EquiVolume:(r=a.prototype._getPlotter.call(this,e)).isEqui=!0,r.isCandle=!1,r.isArms=!1,r.isVolume=!0,r.symbolWidth="100%";break;case i.CandleVolume:(r=a.prototype._getPlotter.call(this,e)).isEqui=!1,r.isCandle=!0,r.isArms=!1,r.isVolume=!0,r.symbolWidth="100%";break;case i.ArmsCandleVolume:(r=a.prototype._getPlotter.call(this,e)).isEqui=!1,r.isCandle=!1,r.isArms=!0,r.isVolume=!0,r.symbolWidth="100%";break;case i.PointAndFigure:r=this._pfPlotter;break;default:r=a.prototype._getPlotter.call(this,e)}return r},n.prototype._createSeries=function(){return new e.FinancialSeries},n}(t.chart.FlexChartCore);e.FinancialChart=a}(e.finance||(e.finance={}))}(t.chart||(t.chart={}))}(wijmo||(wijmo={})),function(t){!function(e){e.finance||(e.finance={}),t._registerModule("wijmo.chart.finance",t.chart.finance)}(t.chart||(t.chart={}))}(wijmo||(wijmo={}));