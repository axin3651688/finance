/*!
    *
    * Wijmo Library 5.20191.603
    * http://wijmo.com/
    *
    * Copyright(c) GrapeCity, Inc.  All rights reserved.
    *
    * Licensed under the GrapeCity Commercial License.
    * sales@wijmo.com
    * wijmo.com/products/wijmo-5/license/
    *
    */

var wijmo,__extends=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function r(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}();!function(e){!function(t){!function(t){"use strict";var o=function(t){function o(o){var r=t.call(this)||this;return r._row=r._col=0,r._rowspan=r._colspan=1,o&&e.copy(r,o),r}return __extends(o,t),Object.defineProperty(o.prototype,"colspan",{get:function(){return this._colspan},set:function(t){this._colspan=e.asInt(t,!1,!0),e.assert(this._colspan>0,"colspan must be >= 1")},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"rowspan",{get:function(){return this._rowspan},set:function(t){this._rowspan=e.asInt(t,!1,!0),e.assert(this._rowspan>0,"colspan must be >= 1")},enumerable:!0,configurable:!0}),o}(e.grid.Column);t._Cell=o}(t.multirow||(t.multirow={}))}(e.grid||(e.grid={}))}(wijmo||(wijmo={})),function(e){!function(t){!function(t){"use strict";var o=function(e){function t(t,o,r){var n=e.call(this,t)||this;return n._idxData=o,n._idxRecord=r,n}return __extends(t,e),Object.defineProperty(t.prototype,"recordIndex",{get:function(){return this._idxRecord},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dataIndex",{get:function(){return this._idxData},enumerable:!0,configurable:!0}),t}(e.grid.Row);t._MultiRow=o}(t.multirow||(t.multirow={}))}(e.grid||(e.grid={}))}(wijmo||(wijmo={})),function(e){var t;(function(t){"use strict";var o=function(o){function r(t,r){var n=o.call(this)||this;if(n._colstart=0,n._g=t,r&&e.copy(n,r),!n._cells)throw"Cell group with no cells?";var l=0,i=0,s=0,a=1,c=0;n._cells.forEach(function(e,t){if(i>0&&i+e.colspan>n._colspan){for(var o=s;o<t;o++)n._cells[o].rowspan=a;l+=a,i=0,s=t,a=e.rowspan}e._row=l,e._col=i,i+=e.colspan,a=Math.max(a,e.rowspan),c+=e.colspan}),n._rowspan=l+1,n._colspan>c&&(n._colspan=c);for(var u=0;u<n._cells.length;u++){var d=n._cells[u];(u==n._cells.length-1||n._cells[u+1]._row>d._row)&&(i=d._col,d._colspan=n._colspan-i)}return n}return __extends(r,o),r.prototype._copy=function(o,r){var n=this;return"cells"==o&&(this._cells=[],e.isArray(r)&&r.forEach(function(o){var r=new t._Cell(o);!o.header&&r.binding&&(r.header=e.toHeaderCase(r.binding)),n._cells.push(r),n._colspan=Math.max(n._colspan,r.colspan)}),!0)},Object.defineProperty(r.prototype,"cells",{get:function(){return this._cells},enumerable:!0,configurable:!0}),r.prototype.closeGroup=function(t){if(t>this._rowspan){for(var o=0;o<this._cells.length;o++)(r=this._cells[o])._row==this._rowspan-1&&(r._rowspan=t-r._row);this._rowspan=t}for(this._cols=new e.grid.ColumnCollection(this._g,this._g.columns.defaultSize),this._rng=new Array(t*this._colspan),o=0;o<this._cells.length;o++)for(var r=this._cells[o],n=0;n<r._rowspan;n++)for(var l=0;l<r._colspan;l++){var i=(r._row+n)*this._colspan+r._col+l;this._cols.setAt(i,r);var s=new e.grid.CellRange(0-n,0-l,0-n+r._rowspan-1,0-l+r._colspan-1);s.isSingleCell||(this._rng[i]=s)}this._rng[-1]=new e.grid.CellRange(0,this._colstart,0,this._colstart+this._colspan-1)},r.prototype.getColumnWidth=function(e){for(var t=0;t<this._cells.length;t++){var o=this._cells[t];if(o._col==e&&1==o.colspan)return o.width}return null},r.prototype.getMergedRange=function(t,o,r){if(o<0)return this._rng[-1];var n=t.rows[o],l=null!=n.recordIndex?n.recordIndex:o%this._rowspan,i=r-this._colstart,s=this._rng[l*this._colspan+i];return t.cellType==e.grid.CellType.ColumnHeader&&o++,s?new e.grid.CellRange(o+s.row,r+s.col,o+s.row2,r+s.col2):null},r.prototype.getBindingColumn=function(e,t,o){if(t<0)return this;var r=e.rows[t],n=r&&null!=r.recordIndex?r.recordIndex:t%this._rowspan,l=o-this._colstart;return this._cols[n*this._colspan+l]},r.prototype.getColumn=function(e){return this._cols.getColumn(e)},r}(t._Cell);t._CellGroup=o})((t=e.grid||(e.grid={})).multirow||(t.multirow={}))}(wijmo||(wijmo={})),function(e){var t;(function(t){"use strict";var o=function(o){function r(){return null!==o&&o.apply(this,arguments)||this}return __extends(r,o),r.prototype.getMergedRange=function(r,n,l,i){void 0===i&&(i=!0);var s=r.grid;switch(r.cellType){case e.grid.CellType.Cell:case e.grid.CellType.RowHeader:if(r.rows[n]instanceof e.grid.GroupRow)return o.prototype.getMergedRange.call(this,r,n,l,i)}switch(r.cellType){case e.grid.CellType.Cell:case e.grid.CellType.ColumnHeader:var a=s._cellGroupsByColumn[l];e.assert(a instanceof t._CellGroup,"Failed to get the group!");var c=r.cellType==e.grid.CellType.ColumnHeader?a.getMergedRange(r,n-1,l):a.getMergedRange(r,n,l),u=r.columns.frozen;u&&c&&c.columnSpan>1&&c.col<u&&c.col2>=u&&(c=c.clone(),l<u?c.col2=u-1:c.col=u);var d=r.rows.frozen;return d&&c&&c.rowSpan>1&&r.cellType==e.grid.CellType.Cell&&c.row<d&&c.row2>=d&&(c=c.clone(),n<d?c.row2=d-1:c.row=d),c;case e.grid.CellType.RowHeader:var p=s._rowsPerItem,h=n-r.rows[n].recordIndex,g=Math.min(h+p-1,r.rows.length-1);return new e.grid.CellRange(h,0,g,r.columns.length-1);case e.grid.CellType.TopLeft:return new e.grid.CellRange(0,0,r.rows.length-1,r.columns.length-1)}return null},r}(e.grid.MergeManager);t._MergeManager=o})((t=e.grid||(e.grid={})).multirow||(t.multirow={}))}(wijmo||(wijmo={})),function(e){!function(t){!function(t){"use strict";var o=function(o){function r(r,n){var l=o.call(this,r)||this;l._rowsPerItem=1,l._cellBindingGroups=[],l._centerVert=!0,l._collapsedHeaders=!1,l.collapsedHeadersChanging=new e.Event,l.collapsedHeadersChanged=new e.Event,e.addClass(l.hostElement,"wj-multirow");var i=l.columnHeaders.hostElement.parentElement,s=e.createElement('<div class="wj-hdr-collapse"><span></span></div>');s.style.display="none",i.appendChild(s),l._btnCollapse=s,l._updateButtonGlyph(),l.addEventListener(s,"mousedown",function(e){switch(l.collapsedHeaders){case null:case!1:l._collapsedHeadersWasNull=null==l.collapsedHeaders,l.collapsedHeaders=!0;break;case!0:l.collapsedHeaders=!!l._collapsedHeadersWasNull&&null}e.preventDefault(),l.focus()},!0),l.autoGenerateColumns=!1,l.mergeManager=new t._MergeManager(l);var a=l.hostElement;return l.removeEventListener(a,"dragover"),l.removeEventListener(a,"dragleave"),l.removeEventListener(a,"dragdrop"),l._addHdl=new t._MultiRowAddNewHandler(l),l.formatItem.addHandler(l._formatItem,l),l.addEventListener(l.rowHeaders.hostElement,"click",function(t){if(!t.defaultPrevented&&l.selectionMode!=e.grid.SelectionMode.None){var o=l.hitTest(t);if(o.panel==l.rowHeaders&&o.row>-1){var r=l.selection,n=l.rows[r.topRow],i=l.selectionMode!=e.grid.SelectionMode.Row?l.rows[r.bottomRow]:n;if(n&&null!=n.recordIndex){var s=n.index-n.recordIndex,a=i.index-i.recordIndex+l.rowsPerItem-1,c=l.columns.length-1,u=r.row!=r.topRow?new e.grid.CellRange(a,0,s,c):new e.grid.CellRange(s,0,a,c);l.select(u),t.preventDefault()}}}},!0),l.initialize(n),l}return __extends(r,o),r.prototype._getProductInfo=function(){return"H87K,MultiRow"},Object.defineProperty(r.prototype,"layoutDefinition",{get:function(){return this._layoutDef},set:function(t){var o=this;this._layoutDef=e.asArray(t),this._rowsPerItem=1,this._cellBindingGroups=this._parseCellGroups(this._layoutDef),this._cellBindingGroups.forEach(function(e){o._rowsPerItem=Math.max(o._rowsPerItem,e._rowspan)}),this._bindGrid(!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"rowsPerItem",{get:function(){return this._rowsPerItem},enumerable:!0,configurable:!0}),r.prototype.getBindingColumn=function(e,t,o){return this._getBindingColumn(e,t,e.columns[o])},r.prototype.getColumn=function(t){if(e.isString(t)){for(var r=this._cellBindingGroups,n=null,l=0;l<r.length&&!n;l++)n=r[l].getColumn(t);return n}return o.prototype.getColumn.call(this,t)},Object.defineProperty(r.prototype,"centerHeadersVertically",{get:function(){return this._centerVert},set:function(t){t!=this._centerVert&&(this._centerVert=e.asBoolean(t),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"collapsedHeaders",{get:function(){return this._collapsedHeaders},set:function(t){if(t!=this._collapsedHeaders){var o=new e.CancelEventArgs;this.onCollapsedHeadersChanging(o)&&(this._collapsedHeaders=e.asBoolean(t,!0),this._updateCollapsedHeaders(),this._updateButtonGlyph(),this.onCollapsedHeadersChanged(o))}},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"showHeaderCollapseButton",{get:function(){return""==this._btnCollapse.style.display},set:function(t){t!=this.showHeaderCollapseButton&&(this._btnCollapse.style.display=e.asBoolean(t)?"":"none")},enumerable:!0,configurable:!0}),r.prototype.onCollapsedHeadersChanging=function(e){return this.collapsedHeadersChanging.raise(this,e),!e.cancel},r.prototype.onCollapsedHeadersChanged=function(e){this.collapsedHeadersChanged.raise(this,e)},r.prototype._getQuickAutoSize=function(){return e.isBoolean(this.quickAutoSize)?this.quickAutoSize:this.formatItem.handlerCount<=1&&null==this.itemFormatter},r.prototype._addBoundRow=function(e,o){for(var r=e[o],n=0;n<this._rowsPerItem;n++)this.rows.push(new t._MultiRow(r,o,n))},r.prototype._addNode=function(e,t,o){this._addBoundRow(e,t)},r.prototype._bindColumns=function(){for(var t=this.columnHeaders.rows,o=this._rowsPerItem+1;t.length>o;)t.removeAt(t.length-1);for(;t.length<o;)t.push(new e.grid.Row);this._updateCollapsedHeaders(),this.columns.clear(),this._cellGroupsByColumn={};var r=this.collectionView;if(r&&r.sourceCollection&&r.sourceCollection.length&&r.sourceCollection[0],this._cellBindingGroups)for(var n=0;n<this._cellBindingGroups.length;n++)for(var l=this._cellBindingGroups[n],i=function(t){s._cellGroupsByColumn[s.columns.length]=l;for(var o=new e.grid.Column,r=function(e){var r=l.cells[e],n="width,minWidth,maxWidth,binding,header,format,dataMap,name,aggregate".split(",");if(r._col==t)return n.forEach(function(e){null!=r[e]&&(o[e]=r[e])}),"break"},n=0;n<l.cells.length;n++){if("break"===r(n))break}s.columns.push(o)},s=this,a=0;a<l._colspan;a++)i(a)},r.prototype._updateCollapsedHeaders=function(){var e=this.columnHeaders.rows,t=this.collapsedHeaders;e[0].visible=0!=t;for(var o=1;o<e.length;o++)e[o].visible=1!=t},r.prototype._updateColumnTypes=function(){o.prototype._updateColumnTypes.call(this);var t=this.collectionView;if(e.hasItems(t))for(var r=t.items[0],n=0;n<this._cellBindingGroups.length;n++)for(var l=this._cellBindingGroups[n],i=0;i<l._cols.length;i++){var s=l._cols[i];null==s.dataType&&s._binding&&(s.dataType=e.getType(s._binding.getValue(r)))}},r.prototype._getBindingColumn=function(e,t,o){if(e==this.cells||e==this.columnHeaders){var r=this._cellGroupsByColumn[o.index];e==this.columnHeaders&&t--,o=r.getBindingColumn(e,t,o.index)}return o},r.prototype._cvCollectionChanged=function(o,r){if(this.autoGenerateColumns&&0==this.columns.length)this._bindGrid(!0);else{var n=e.collections.NotifyCollectionChangedAction;switch(r.action){case n.Change:this.invalidate();break;case n.Add:if(r.index==this.collectionView.items.length-1){for(var l=this.rows.length;l>0&&this.rows[l-1]instanceof e.grid._NewRowTemplate;)l--;for(var i=0;i<this._rowsPerItem;i++)this.rows.insert(l+i,new t._MultiRow(r.item,r.index,i));return}e.assert(!1,"added item should be the last one.");break;default:this._bindGrid(!1)}}},r.prototype._parseCellGroups=function(e){var o=[],r=1;if(e){for(var n=0,l=0;n<e.length;n++){var i=new t._CellGroup(this,e[n]);i._colstart=l,l+=i._colspan,r=Math.max(r,i._rowspan),o.push(i)}for(n=0;n<o.length;n++)o[n].closeGroup(r)}return o},r.prototype._formatItem=function(o,r){var n=this._rowsPerItem,l=r.panel.cellType,i=r.panel.rows[r.range.row],s=r.panel.rows[r.range.row2],a=r.cell;if(l==e.grid.CellType.ColumnHeader&&e.toggleClass(a,"wj-group-header",0==r.range.row),l==e.grid.CellType.Cell||l==e.grid.CellType.ColumnHeader){var c=this._cellGroupsByColumn[r.col];e.assert(c instanceof t._CellGroup,"Failed to get the group!"),e.toggleClass(a,"wj-group-start",c._colstart==r.range.col),e.toggleClass(a,"wj-group-end",c._colstart+c._colspan-1==r.range.col2)}n>1&&(l!=e.grid.CellType.Cell&&l!=e.grid.CellType.RowHeader||(e.toggleClass(a,"wj-record-start",i instanceof t._MultiRow&&0==i.recordIndex),e.toggleClass(a,"wj-record-end",s instanceof t._MultiRow&&s.recordIndex==n-1)));var u=this.alternatingRowStep;if(u){var d=!1;i instanceof t._MultiRow&&(d=i.dataIndex%(u+1)==0,1==u&&(d=!d)),e.toggleClass(a,"wj-alt",d)}if(this._centerVert&&!a.getAttribute("wj-state-measuring")){var p=!1;if(a.innerHTML&&r.range.rowSpan>1)if(p=!0,0==a.childElementCount)a.innerHTML="<div>"+a.innerHTML+"</div>";else{var h=document.createElement("div"),g=document.createRange();g.selectNodeContents(a),g.surroundContents(h)}e.toggleClass(a,"wj-center-vert",p)}},r.prototype._updateButtonGlyph=function(){var e=this._btnCollapse.querySelector("span");e instanceof HTMLElement&&(e.className=this.collapsedHeaders?"wj-glyph-left":"wj-glyph-down-left")},r.prototype._getError=function(t,r,n){if(e.isFunction(this.itemValidator)&&t==this.rowHeaders)for(var l=0;l<this._rowsPerItem;l++)for(n=0;n<this.columns.length;n++){var i=this.itemValidator(r+l,n);if(i)return i}return o.prototype._getError.call(this,t,r,n)},r}(e.grid.FlexGrid);t.MultiRow=o}(t.multirow||(t.multirow={}))}(e.grid||(e.grid={}))}(wijmo||(wijmo={})),function(e){var t;(function(t){"use strict";var o=function(t){function o(e){return e._addHdl._detach(),t.call(this,e)||this}return __extends(o,t),o.prototype.updateNewRowTemplate=function(){for(var e=this._g.editableCollectionView,t=this._g,o=t.rows,n=e&&e.canAddNew&&t.allowAddNew&&!t.isReadOnly,l=-1,i=0;i<o.length;i+=t.rowsPerItem)if(o[i]instanceof r){l=i;break}if(n&&l>-1&&(this._top&&l>0||!this._top&&0==l)&&(l=-1,this._removeNewRowTemplate()),n&&l<0)for(i=0;i<t.rowsPerItem;i++){var s=new r(i);this._top?o.insert(i,s):o.push(s)}!n&&l>-1&&this._removeNewRowTemplate()},o.prototype._keydown=function(o){t.prototype._keydown.call(this,o),o.defaultPrevented||o.keyCode!=e.Key.Escape||this._copyNewDataItem()},o.prototype._rowEditEnded=function(e,o){t.prototype._rowEditEnded.call(this,e,o),this._copyNewDataItem()},o.prototype._beginningEdit=function(e,o){t.prototype._beginningEdit.call(this,e,o),this._top&&!e.rows[0].dataItem&&this._copyNewDataItem()},o.prototype._copyNewDataItem=function(){if(this._top)for(var t=this._g,o=t.rows,r=0;r<t.rowsPerItem;r++)o[r]instanceof e.grid._NewRowTemplate&&(o[r].dataItem=this._nrt.dataItem)},o.prototype._removeNewRowTemplate=function(){for(var t=0,o=this._g.rows;t<o.length;t++)o[t]instanceof e.grid._NewRowTemplate&&(o.removeAt(t),t--)},o}(e.grid._AddNewHandler);t._MultiRowAddNewHandler=o;var r=function(e){function t(t){var o=e.call(this)||this;return o._idxRecord=t,o}return __extends(t,e),Object.defineProperty(t.prototype,"recordIndex",{get:function(){return this._idxRecord},enumerable:!0,configurable:!0}),t}(e.grid._NewRowTemplate)})((t=e.grid||(e.grid={})).multirow||(t.multirow={}))}(wijmo||(wijmo={})),function(e){!function(t){t.multirow||(t.multirow={}),e._registerModule("wijmo.grid.multirow",e.grid.multirow)}(e.grid||(e.grid={}))}(wijmo||(wijmo={}));