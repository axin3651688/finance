/*!
    *
    * Wijmo Library 5.20191.603
    * http://wijmo.com/
    *
    * Copyright(c) GrapeCity, Inc.  All rights reserved.
    *
    * Licensed under the GrapeCity Commercial License.
    * sales@wijmo.com
    * wijmo.com/products/wijmo-5/license/
    *
    */

var __extends=this&&this.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}();import{_getModule,Control,isArray,addClass,isNullOrWhiteSpace}from"wijmo/wijmo";import{ControlMetaFactory,PropertyType,EventDescBase,ComplexPropDescBase,PropDescBase,BindingMode,isSimpleType}from"wijmo/wijmo.meta";import*as mNg from"angular";var MetaFactory=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.CreateProp=function(t,e,r,i,n,o){return new PropDesc(t,e,r,i,n,o)},e.CreateEvent=function(t,e){return new EventDesc(t,e)},e.CreateComplexProp=function(t,e,r){return new ComplexPropDesc(t,e,r)},e.findProp=function(t,e){return ControlMetaFactory.findProp(t,e)},e.findEvent=function(t,e){return ControlMetaFactory.findEvent(t,e)},e.findComplexProp=function(t,e){return ControlMetaFactory.findComplexProp(t,e)},e}(ControlMetaFactory);export{MetaFactory};var PropDesc=function(t){function e(e,r,i,n,o,s){var p=t.call(this,e,r,i,n,o,s)||this;return p._scopeBindingMode=p.propertyType===PropertyType.EventHandler?"&":p.bindingMode==BindingMode.OneWay&&isSimpleType(p.propertyType)?"@":"=",p}return __extends(e,t),Object.defineProperty(e.prototype,"scopeBindingMode",{get:function(){return this._scopeBindingMode},set:function(t){this._scopeBindingMode=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"customHandler",{get:function(){return this._customHandler},set:function(t){this._customHandler=t},enumerable:!0,configurable:!0}),e}(PropDescBase);export{PropDesc};var EventDesc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e}(EventDescBase);export{EventDesc};var ComplexPropDesc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e}(ComplexPropDescBase);export{ComplexPropDesc};var wjNg=mNg,_ngModules=[];export function _registerNgModule(t){var e=wjNg.module(t,[]);return _ngModules.push(t),e};export function getNgModules(){return _ngModules.slice()};var WjDirective=function(){function t(){this.replace=!0,this.restrict="E",this.template="<div />",this.transclude=!1,this._props=[],this._events=[],this._complexProps=[];var e=this;this._dirId=++t._dirIdCounter+"",this.link=this._postLinkFn(),this.controller=["$scope","$parse","$element",function(r,i,n){e._$parse=i,n[0][t._elemScopeProp]=r,this[t._cntrlScopeProp]=r,r[t._scopeChildrenProp]=[],e._controllerImpl(this,r,n)}],this._initDirective()}return t._versionOk=function(t){var e=wjNg.version,r=[e.major,e.minor,e.dot],i=t.split(".");if(i.length!==r.length)throw"Unrecognizable version number.";for(var n=0;n<i.length;n++){if(r[n]<i[n])return!1;if(r[n]>i[n])return!0}return!0},Object.defineProperty(t.prototype,"_controlConstructor",{get:function(){throw"Abstract method call"},enumerable:!0,configurable:!0}),t.prototype._getMetaDataId=function(){return this._controlConstructor},t.prototype._getMetaData=function(){return MetaFactory.getMetaData(this._getMetaDataId())},t.prototype._initDirective=function(){this._initSharedMeta(),this._prepareProps(),this._initEvents(),this._initScopeEvents(),this._initScopeDescription()},t.prototype._initSharedMeta=function(){var t=this._getMetaData();this._props=t.props,this._events=t.events,this._complexProps=t.complexProps,this._property=t.parentProperty,this._isPropertyArray=t.isParentPropertyArray,this._ownObject=t.ownsObject,this._parentReferenceProperty=t.parentReferenceProperty,this._ngModelProperty=t.ngModelProperty},t.prototype._initProps=function(){},t.prototype._initEvents=function(){},t.prototype._createLink=function(){return new WjLink},t.prototype._controllerImpl=function(t,e,r){},t.prototype._initControl=function(t){try{return new(0,this._controlConstructor)(t)}catch(t){return}},t.prototype._isChild=function(){return this._isParentInitializer()||this._isParentReferencer()},t.prototype._isParentInitializer=function(){return void 0!=this._property},t.prototype._isParentReferencer=function(){return void 0!=this._parentReferenceProperty},t.prototype._scopeToAttrName=function(t){var e=this.scope[t];if(e){var r=1,i=e.length;return i<2?t:("?"===e.charAt(1)&&(r=2),i===r?t:e.substr(r))}return t},t.prototype._getComplexPropDesc=function(t){return MetaFactory.findComplexProp(t,this._complexProps)},t.prototype._initScopeEvents=function(){for(var t in this._events){var e=this._events[t];this._props.push(new PropDesc(e.eventName,PropertyType.EventHandler))}},t.prototype._initScopeDescription=function(){var e=this._props,r={},i=t._optionalAttr?"=?":"=";if(null!=e)for(var n,o=0;o<e.length;o++)r[(n=e[o]).propertyName]=n.scopeBindingMode,t._optionalAttr&&"="==n.scopeBindingMode&&(r[n.propertyName]="=?");r.control=i,r[t._initPropAttr]=i,r[t._initEventAttr]="&",r[t._parPropAttr]="@",r[t._wjModelPropAttr]="@",this.scope=r},t.prototype._postLinkFn=function(){var e=this;return function(r,i,n,o){var s=e._createLink();if(s.directive=e,s.scope=r,s.tElement=i,s.tAttrs=n,isArray(o)){var p=i.parent()[0][t._elemScopeProp];for(var a in o){var c=o[a];if(void 0!=c&&(c[t._cntrlScopeProp]===r&&(c=i.parent().controller(e._stripRequire(+a))),c&&c[t._cntrlScopeProp]===p)){s.controller=c;break}}}else s.controller=o;s.ngModel=i.controller("ngModel"),s._link()}},t.prototype._prepareProps=function(){this._initProps();var t=[].concat(this._props);this._props.sort(function(e,r){var i=e.priority-r.priority;return i||(i=t.indexOf(e)-t.indexOf(r)),i})},t.prototype._stripRequire=function(t){if(this._stripReq||(this._stripReq=[],this._stripReq.length=this.require.length),!this._stripReq[t]){var e=/^[^A-Za-z]*(.*)/.exec(this.require[t]);this._stripReq[t]=e?e[1]:""}return this._stripReq[t]},t.prototype._getId=function(){return this._dirId},t._removeTransclude=function(t){if(!t)return t;var e=document.createElement("div");e.innerHTML=t;var r=e.querySelectorAll("[ng-transclude]");return[].forEach.call(r,function(t,e){t.removeAttribute("ng-transclude")}),e.innerHTML},t._parPropAttr="wjProperty",t._wjModelPropAttr="wjModelProperty",t._initPropAttr="isInitialized",t._initEventAttr="initialized",t._cntrlScopeProp="_cntrlScope",t._elemScopeProp="_elemCntrl",t._cntrlLinkProp="$_thisLink",t._scopeChildrenProp="$_childLinks",t._dirIdAttr="wj-directive-id",t._optionalAttr=t._versionOk("1.1.4"),t._dynaTemplates=t._optionalAttr,t._angStripPrefixes=["data","x"],t._dirIdCounter=0,t}();export{WjDirective};var WjLink=function(){function t(){this._nonAssignable={},this._definedProps={},this._definedEvents={},this._oldValues={},this._isInitialized=!1,this._hasTriggeredInitialized=!1,this._isNgModelInitialized=!1,this._scopeSuspend=0,this._suspendedEvents=[],this._areChlildrenReady=!1,this._isDestroyed=!1,this._isAppliedToParent=!1}return t.prototype._link=function(){var t=this.directive,e=this;if(this.tElement[0].setAttribute(WjDirective._dirIdAttr,t._getId()),this.directiveTemplateElement=t.replace?this.tElement:wjNg.element(this.tElement.children()[0]),this._initNonAssignable(),this._isChild()){this._parentPropDesc=new ComplexPropDesc(t._property,t._isPropertyArray,t._ownObject),this.controller[WjDirective._cntrlScopeProp][WjDirective._scopeChildrenProp].push(this);var r=this.controller[WjDirective._cntrlScopeProp][WjDirective._cntrlLinkProp];r&&r._areChlildrenReady&&this._parentReady(r)}else this._createInstance(),this._notifyReady(),this._prepareControl();this._destroyEhUnreg=this.scope.$on("$destroy",function(t){for(var r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];e._destroy()})},t.prototype._onChildrenReady=function(){},t.prototype._createInstance=function(){this.control=this._initControl(),this._safeApply(this.scope,"control",this.control)},t.prototype._parentReady=function(t){if(this._isChild()){var e=this;if(!this._isAttrDefined(WjDirective._parPropAttr)||this.scope[WjDirective._parPropAttr]){var r=this._getParentProp(),i=t.directive._getComplexPropDesc(r);i?this._parentPropDesc=i:this._parentPropDesc.propertyName=r,this.parent=t,this._useParentObj()?(this.control=t.control[r],this._safeApply(this.scope,"control",this.control)):this._createInstance(),this._notifyReady(),this._prepareControl(),this._initParent(),this.directiveTemplateElement[0].style.display="none",this._appliedToParent()}else this.scope.$watch(WjDirective._parPropAttr,function(){e._parentReady(t)})}},t.prototype._initParent=function(){if(!this._useParentObj()){this.directive;var t=this._getParentProp(),e=this.parent.control,r=this.control;if(this._isParentInitializer())if(this._isParentArray()){var i=e[t],n=this._getIndex();(n<0||n>=i.length)&&(n=i.length),i.splice(n,0,r);this._siblingInsertedEH=this._siblingInserted.bind(this),this.tElement[0].addEventListener("DOMNodeInserted",this._siblingInsertedEH)}else e[t]=r;this._isParentReferencer()&&!this._parentInCtor()&&(r[this._getParentReferenceProperty()]=e)}},t.prototype._destroy=function(){if(!this._isDestroyed){this._isDestroyed=!0;var t=this.control;if(this._destroyEhUnreg&&(this._destroyEhUnreg=null),this._siblingInsertedEH&&this.tElement[0].removeEventListener("DOMNodeInserted",this._siblingInsertedEH),this._isParentArray()&&!this.parent._isDestroyed){var e=this.parent.control,r=this._getParentProp();if(e&&r&&t){var i=e[r];if(i){var n=i.indexOf(t);n>=0&&i.splice(n,1)}}}this.tElement[0][WjDirective._elemScopeProp]=null,t instanceof Control&&setTimeout(function(){t.hostElement&&t.dispose()},0)}},t.prototype._siblingInserted=function(t){if(t.target===this.tElement[0]){var e=this._getIndex(),r=this.parent.control[this._getParentProp()],i=this.control,n=r.indexOf(i);e>=0&&n>=0&&e!==n&&(r.splice(n,1),e=Math.min(e,r.length),r.splice(e,0,i))}},t.prototype._notifyReady=function(){this.scope[WjDirective._cntrlLinkProp]=this;for(var t=[].concat(this.scope[WjDirective._scopeChildrenProp]),e=0;e<t.length;e++)t[e]._parentReady(this);this._areChlildrenReady=!0,this._onChildrenReady()},t.prototype._initControl=function(){return this.directive._initControl(this._parentInCtor()?this.parent.control:this.directiveTemplateElement[0])},t.prototype._prepareControl=function(){this._addEventHandlers(),this._addWatchers()},t.prototype._setupScopeWithControlProperties=function(){for(var t,e,r,i,n=this.control,o=this.scope,s=this.directive._props,p=0;p<s.length;p++)if("="===(t=s[p]).scopeBindingMode&&t.isNativeControlProperty&&t.shouldUpdateSource){r=o[e=t.propertyName],i=n[e];var a=t.propertyType==PropertyType.Function,c=t.propertyType==PropertyType.EventHandler;!this._canApply(o,t.propertyName)||i==r||a||c||(o[t.propertyName]=i)}o.$root.$$phase||o.$apply()},t.prototype._initNonAssignable=function(){var t,e=this.directive._$parse,r=this.directive.scope;for(var i in r)"="===r[i].charAt(0)&&(void 0!==(t=this.tAttrs[this.directive._scopeToAttrName(i)])&&void 0!=e(t).assign||(this._nonAssignable[i]=!0))},t.prototype._suspendScope=function(){this._scopeSuspend++},t.prototype._resumeScope=function(){this._scopeSuspend>0&&0==--this._scopeSuspend&&this._suspendedEvents.length>0&&this._updateScope()},t.prototype._isScopeSuspended=function(){return this._scopeSuspend>0},t.prototype._isAttrDefined=function(t){return null!=this.tAttrs.$attr[this.directive._scopeToAttrName(t)]},t.prototype._childInitialized=function(t){var e=this.scope[WjDirective._scopeChildrenProp],r=e.indexOf(t);r>=0&&(e.splice(r,1),this._checkRaiseInitialized())},t.prototype._thisInitialized=function(){this._checkRaiseInitialized()},t.prototype._initialized=function(){},t.prototype._appliedToParent=function(){this._isAppliedToParent=!0,this._checkRaiseInitialized()},t.prototype._checkRaiseInitialized=function(){if(!this._hasTriggeredInitialized&&0===this.scope[WjDirective._scopeChildrenProp].length&&this._isInitialized&&(!this._isChild()||this._isAppliedToParent)){this._hasTriggeredInitialized=!0,this._initialized(),this._safeApply(this.scope,WjDirective._initPropAttr,!0);var t=this.scope[WjDirective._initEventAttr],e=this;t&&setTimeout(function(){t({s:e.control,e:void 0})},0),this._isChild()&&this.parent&&this.parent._childInitialized(this)}},t.prototype._addWatchers=function(){var t=this,e=this.directive._props,r=this.scope;if(e){if(this.ngModel){var i=this.ngModel;i.$pristine&&addClass(this.tElement[0],"ng-pristine"),i.$valid&&addClass(this.tElement[0],"ng-valid"),i.$untouched&&addClass(this.tElement[0],"ng-untouched"),i.$render=this._ngModelRender.bind(this),this._updateNgModelPropDesc(),this._isAttrDefined(WjDirective._wjModelPropAttr)&&r.$watch(WjDirective._wjModelPropAttr,function(){t._updateNgModelPropDesc(),t._ngModelRender()})}var n,o,s;for(n=0;n<e.length;n++)o=(s=e[n]).propertyName,s.propertyType!==PropertyType.EventHandler&&this._isAttrDefined(o)&&(this._definedProps[o]=s);var p=this.control;r.$watch(function(e){if(!t._isDestroyed)try{var r={};for(var i in t._definedProps)e[i]!==t._oldValues[i]&&(r[i]=e[i]);for(var i in r){var n=r[i];if(n!==t._oldValues[i]&&(t._oldValues[i]=n,t._isInitialized||void 0!==n)){var o=t._definedProps[i],s=t._nullOrValue(t._castValueToType(n,o)),a=p[i];if(a!=s){var c=!1;null!=o.customHandler&&(c=o.customHandler(e,p,s,a,t)),o.isNativeControlProperty&&!0!==c&&(p[i]=s)}}}}finally{t._isInitialized||(t._isNgModelInitialized=!0,t.ngModel&&(void 0!==t.ngModel.$viewValue?t._ngModelRender():t._ngModelPropDesc&&(t.ngModel.$setViewValue(p[t._ngModelPropDesc.propertyName]),t.ngModel.$setPristine())),t._isInitialized=!0,t._setupScopeWithControlProperties(),t._thisInitialized())}})}},t.prototype._addEventHandlers=function(){var t,e,r=this.directive._events;for(t=0;t<r.length;t++)e=r[t],this._addEventHandler(e)},t.prototype._addEventHandler=function(t){var e=this,r=t.eventName,i=this.control[r];if(null==i)throw'Event "'+r+'" not found in '+e.constructor.name;if(this._isAttrDefined(r))this._definedEvents[r]=t;else if(!t.isPropChanged)return;this.scope,this.directive._props;var n=this.control;i.addHandler(function(r,i){var n={eventDesc:t,s:r,e:i};e._isScopeSuspended()?e._suspendedEvents.push(n):e._updateScope(n)},n)},t.prototype._updateScope=function(t){if(void 0===t&&(t=null),!this._isDestroyed){var e=t?t.eventDesc.isPropChanged:this._suspendedEvents.some(function(t){return t.eventDesc.isPropChanged}),r=this;if(e)for(var i=this.directive._props,n=0;n<i.length;n++){var o=i[n];if("="==o.scopeBindingMode&&o.isNativeControlProperty&&o.shouldUpdateSource){var s=o.propertyName,p=this.control[s];this._shouldApply(this.scope,s,p)&&(this.scope[s]=p,this.directive._$parse(this.tAttrs[this.directive._scopeToAttrName(s)]).assign(this.scope.$parent,p)),this._ngModelPropDesc&&this._isInitialized&&this._ngModelPropDesc.propertyName==s&&this.ngModel.$viewValue!==p&&this.ngModel.$setViewValue(p)}}var a=function(){for(var e=t?[t]:this._suspendedEvents,i=0;i<e.length;i++){var n=e[i],o=n.eventDesc.eventName,s=this.scope[o];r._definedEvents[o]&&s&&s({s:n.s,e:n.e})}t||(this._suspendedEvents.length=0)}.bind(this);if(e)if(this.scope.$root.$$phase)var c=this.scope.$watch("value",function(){c()});else this.scope.$apply();a()}},t.prototype._ngModelRender=function(){if(this._isNgModelInitialized){var t=this.ngModel.$viewValue,e=this._ngModelPropDesc;if(e&&(void 0!==t||this._isInitialized)){this._nullOrValue(this._castValueToType(t,e));t!==this.control[e.propertyName]&&(this.control[e.propertyName]=t)}}},t.prototype._castValueToType=function(t,e){return e.castValueToType(t)},t.prototype._isChild=function(){return this.directive._isChild()},t.prototype._isParentInitializer=function(){return this.directive._isParentInitializer()},t.prototype._isParentReferencer=function(){return this.directive._isParentReferencer()},t.prototype._getParentProp=function(){return this._isParentInitializer()?this.scope[WjDirective._parPropAttr]||this.directive._property:void 0},t.prototype._getParentReferenceProperty=function(){return this.directive._parentReferenceProperty},t.prototype._useParentObj=function(){return!this._isParentReferencer()&&this._isParentInitializer()&&!this._parentPropDesc.isArray&&!this._parentPropDesc.ownsObject},t.prototype._isParentArray=function(){return this._isParentInitializer()&&this._parentPropDesc.isArray},t.prototype._parentInCtor=function(){return this._isParentReferencer()&&""==this._getParentReferenceProperty()},t.prototype._getNgModelProperty=function(){return this.scope[WjDirective._wjModelPropAttr]||this.directive._ngModelProperty},t.prototype._updateNgModelPropDesc=function(){var t=this._getNgModelProperty();this._ngModelPropDesc=isNullOrWhiteSpace(t)?null:MetaFactory.findProp(t,this.directive._props)},t.prototype._safeApply=function(t,e,r){return!!this._shouldApply(t,e,r)&&(t[e]=r,t.$root.$$phase||t.$apply(),!0)},t.prototype._shouldApply=function(t,e,r){return this._canApply(t,e)&&r!=t[e]},t.prototype._canApply=function(t,e){return!this._nonAssignable[e]},t.prototype._nullOrValue=function(t){return void 0!=t?t:null},t.prototype._getIndex=function(){var t=this.tElement[0],e=t.parentElement;if(!e)return-1;for(var r=e.childNodes,i=-1,n=this.directive._getId(),o=0;o<r.length;o++){var s=r[o];if(1==s.nodeType&&s.getAttribute(WjDirective._dirIdAttr)==n&&(++i,s===t))return i}return-1},t}();export{WjLink};export function softRefChart(){return _getModule("wijmo.chart")};export function softRefChartAnalytics(){return _getModule("wijmo.chart.analytics")};export function softRefChartAnimation(){return _getModule("wijmo.chart.animation")};export function softRefChartAnnotation(){return _getModule("wijmo.chart.annotation")};export function softRefChartFinance(){return _getModule("wijmo.chart.finance")};export function softRefChartFinanceAnalytics(){return _getModule("wijmo.chart.finance.analytics")};export function softRefChartHierarchical(){return _getModule("wijmo.chart.hierarchical")};export function softRefChartInteraction(){return _getModule("wijmo.chart.interaction")};export function softRefChartRadar(){return _getModule("wijmo.chart.radar")};export function softRefGauge(){return _getModule("wijmo.gauge")};export function softRefGrid(){return _getModule("wijmo.grid")};export function softRefGridDetail(){return _getModule("wijmo.grid.detail")};export function softRefGridFilter(){return _getModule("wijmo.grid.filter")};export function softRefGridGrouppanel(){return _getModule("wijmo.grid.grouppanel")};export function softRefGridMultirow(){return _getModule("wijmo.grid.multirow")};export function softRefGridSheet(){return _getModule("wijmo.grid.sheet")};export function softRefNav(){return _getModule("wijmo.nav")};export function softRefOlap(){return _getModule("wijmo.olap")};export function softRefViewer(){return _getModule("wijmo.viewer")};export function softRefInput(){return _getModule("wijmo.input")};