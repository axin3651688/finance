{
    "id": "riskReport",
    "text": "风险报告树表",
    "config": {
        "sql": ""
    },
    "columns": [
        {
            "id": "gsmc",
            "text": "公司名称",
            "tepe": "string",
            "align": "left",
            "width": "460"
        },
        {
            "id": "bgzt",
            "text": "报告状态",
            "tepe": "string",
            "align": "center",
            "width": "160"
        },
        {
            "id": "sbr",
            "text": "上报人",
            "tepe": "string",
            "align": "center",
            "width": "160"
        },
        {
            "id": "cz",
            "text": "操作"
        }
    ],
    "rows": [
        {
            "gsmc": "(1001)天津食品集团有限公司(合并)",
            "bgzt": "1",
            "children": [
                {
                    "gsmc": "(100101)天津农垦渤海农业集团有限公司(托管汇总)",
                    "bgzt": "1",
                    "children": [
                        {
                            "gsmc": "(10010101)天津农垦渤海农业集团有限公司(合并)",
                            "bgzt": "1",
                            "children": [
                                {
                                    "gsmc": " (1001010101)天津农垦渤海农业集团有限公司(本部)",
                                    "bgzt": "1"
                                },
                                {
                                    "gsmc": "(1001010102)天津农垦龙天畜牧养殖有限公司",
                                    "bgzt": "1"
                                }
                            ]
                        },
                        {
                            "gsmc": "(10010102)天津市宝德包装有限公司",
                            "bgzt": "0"
                        }
                    ]
                }
            ]
        }
    ],
    "items": [
        {
            "id": "riskReport",
            "text": "风险报告树表",
            "index": false, // 是否显示序号
            "toolbar": [
                {
                    "id": 1,
                    "text": "全部展开",
                    "styles":{
                        "marginTop": "10px"
                    },
                    "handler": function(data, btn, $vue){
                        // debugger
                        if(data && data.length>0){
                            data.forEach(res => {
                                res._expanded = true ; 
                                if(res.children && res.children.length>0)this.handler(res.children); 
                            });
                        }else{  
                            $vue.$message('暂无数据！');
                        }
                    }
                },
                {
                    "id": 2,
                    "text": "全部收起",
                    "styles":{
                        "marginTop": "10px"
                    },
                    "handler": function(data, btn, $vue){
                        // debugger
                        if(data && data.length>0){
                            data.forEach(res => {
                                res._expanded = false ; 
                                if(res.children && res.children.length>0)this.handler(res.children); 
                            });
                        }else{  
                            $vue.$message('暂无数据！');
                        }
                    }
                } 
            ],
            "tableBtn": [
                {
                    "id": 1,
                    "text": "上报",
                    "icon": "iconfont icon-tianjiashangbao"
                },
                {
                    "id": 2,
                    "text": "查看",
                    "icon": "iconfont icon-chakan-copy"
                },
                {
                    "id": 3,
                    "text": "退回",
                    "icon": "iconfont icon-tuihui"
                },
                {
                    "id": 4,
                    "text": "催报",
                    "icon": "iconfont icon-clock"
                }
            ],
            "queryDataAfter": function(data, $vue){
                // debugger
                data.forEach(res => {
                    if(res.bgzt == "0")res.bgzt = "未上报";
                    if(res.bgzt == "1")res.bgzt = "已上报";
                    if(res.children && res.children.length>0)this.queryDataAfter(res.children);
                });
                return data; 
            },
            "drillProperties": ["bgzt"],
            "cellStyle": function({row, column, rowIndex, columnIndex}, $vue){
                // debugger
                let css = "padding: 4px 0;";
                let pro = column.property;
                let textIndent = "" ;
                if (!pro) {
                    return css;
                }
                let drillProperties = this.drillProperties;
                if (drillProperties.indexOf(pro) != -1) {
                    if(row.bgzt == "已上报"){
                        let drill = "text-decoration: none;color: green;font-weight: bold;";
                        css = css + textIndent + drill;
                        return css;
                    }else{
                        let drill = "text-decoration: none;color: red;font-weight: bold;";
                        css = css + textIndent + drill;
                        return css;
                    }
                    
                }else{
                    return css ;
                }
            }
        }
        
    ]
}