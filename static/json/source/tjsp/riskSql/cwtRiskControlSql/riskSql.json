{
  "code": 200,
  "sqlList": [
    {
      "id": "001",
      "text": "风险反馈普通表数据",
      "sql": "with riskstate as (select SISFEEDBACK,NRELATEID from  RISK_REPORTSTATE where DIM_COMPANY=:company AND DIM_PERIOD=:period), risklist as (SELECT nid,DIM_COMPANY, DIM_PERIOD, DIM_DEPARTMENT , SRISKNAME FROM RISK_DISTINGUISH where nid in (select NRELATEID from riskstate) and dim_department = '0101'),datalist as( select nid,dim_company, dim_period, dim_department, sriskname, sisfeedback from risklist  left join riskstate on risklist.nid = riskstate.nrelateid) select nid as scode, sriskname as riskname, (case sisfeedback when '-1' then '未反馈' when '1' then '已反馈' else '' end ) as backState, (case sisfeedback when '-1' then '0-反馈,3-提醒' when '1' then '1-查看,2-退回' else '' end ) as operation from datalist"
    },
    {
      "id": "002",
      "text": "风险追踪普通标数据",
      "sql": "with riskstate as (select SISREPORT, SISINSTRUCTIONS, SISFEEDBACK, SREPORTUSER,SINSTRUCTIONSUSER, SFEEDBACKSUSER, NRELATEID from  RISK_REPORTSTATE where DIM_COMPANY=:company AND DIM_PERIOD=:period ), risklist as (SELECT nid,DIM_COMPANY, DIM_PERIOD, DIM_DEPARTMENT , SRISKNAME FROM RISK_DISTINGUISH  where nid in (select NRELATEID from riskstate) and dim_department = '0101'), datalist as( select nid,dim_company, dim_period, dim_department, sriskname,SISREPORT,SISINSTRUCTIONS, SISFEEDBACK,SREPORTUSER,SINSTRUCTIONSUSER, SFEEDBACKSUSER from risklist  left join riskstate on risklist.nid = riskstate.nrelateid) select nid as scode, sriskname as riskname, (case when  SISFEEDBACK='1' and SISINSTRUCTIONS='1' and SISREPORT='1' then '已反馈' when  SISREPORT='1' and SISINSTRUCTIONS='1' and SISFEEDBACK <> '1'  then '未反馈' when SISREPORT='1' and SISINSTRUCTIONS<>'1' and  SISFEEDBACK <> '1'  then '未批示' when SISREPORT<>'1' and SISINSTRUCTIONS<>'1' and  SISFEEDBACK <> '1'  then '未上报' else null end ) AS riskstate, SREPORTUSER as sb_user,SINSTRUCTIONSUSER as ps_user , SFEEDBACKSUSER as fk_user,'1-查看' as operation from datalist"
    }
  ]
}