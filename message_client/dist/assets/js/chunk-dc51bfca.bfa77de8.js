(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-dc51bfca"],{"2f1d":function(n,t,e){t=n.exports=e("24fb")(!0),t.push([n.i,"[data-v-55e3d2c4] .el-scrollbar__wrap{overflow-x:hidden}.off-line img[data-v-55e3d2c4]{-webkit-filter:grayscale(100%);filter:grayscale(100%)}.Analysis[data-v-55e3d2c4]{height:100%}.btn-group[data-v-55e3d2c4]{display:inline-block;margin-bottom:32px;border-radius:12px;overflow:hidden}.btn-group .btn[data-v-55e3d2c4]{display:inline-block;line-height:24px;padding:0 36px;font-size:14px;color:rgba(0,0,0,.2);background:rgba(0,0,0,.1);cursor:pointer}.btn-group .btn.active[data-v-55e3d2c4]{background:#1890ff;color:#fff}.todo-item[data-v-55e3d2c4]{position:relative;padding:10px 30px;margin-bottom:20px;border-radius:12px;background:#fff;line-height:20px;font-weight:400}.todo-item .item-top[data-v-55e3d2c4]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin-bottom:0}.todo-item .item-top .img-box[data-v-55e3d2c4]{position:relative;margin-right:20px;width:40px;height:40px;border-radius:50%;background:#1890ff;overflow:hidden}.todo-item .item-top .img-box div[data-v-55e3d2c4]{position:absolute}.todo-item .item-top .img-box img[data-v-55e3d2c4]{position:absolute;width:100%;height:100%}.todo-item .item-top .title[data-v-55e3d2c4]{overflow:hidden;margin-right:40px;max-width:300px;height:21px;text-overflow:ellipsis;white-space:nowrap;font-size:16px;color:#000}.todo-item .item-top .datetime[data-v-55e3d2c4]{font-size:14px;color:rgba(0,0,0,.6)}.todo-item .item-top .status[data-v-55e3d2c4]{margin-left:20px;width:10px;height:10px;border-radius:50%;background:#ef3c3c}.todo-item .content[data-v-55e3d2c4]{padding-right:100px;padding-left:60px}.todo-item .content .content-item.first-item[data-v-55e3d2c4]{display:-webkit-box;display:-ms-flexbox;display:flex}.todo-item .content .content-item.first-item .item-group[data-v-55e3d2c4]{min-width:160px}.todo-item .content .content-item[data-v-55e3d2c4]{font-size:14px;color:rgba(0,0,0,.7);line-height:20px}.todo-item .content .content-item .content-item-label[data-v-55e3d2c4]{float:left;margin-right:5px}.todo-item .my-btn[data-v-55e3d2c4]{position:absolute;right:30px;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%);background:#1890ff}.my-btn[data-v-55e3d2c4]{float:right;border:none;background:#1890ff}","",{version:3,sources:["z:/github/finance/message_client/src/views/msg/z:/github/finance/message_client/src/views/msg/z:/github/finance/message_client/src/styles/_element_ui.scss","z:/github/finance/message_client/src/views/msg/z:/github/finance/message_client/src/views/msg/z:/github/finance/message_client/src/styles/index.scss","z:/github/finance/message_client/src/views/msg/z:/github/finance/message_client/src/views/msg/z:/github/finance/message_client/src/views/msg/Analysis.vue","z:/github/finance/message_client/src/views/msg/z:/github/finance/message_client/src/views/msg/z:/github/finance/message_client/src/styles/variables.scss"],names:[],mappings:"AAEA,sCACE,iBAAkB,CCCpB,+BAEI,8BAAuB,CAAvB,sBAAuB,CCyM3B,2BACE,WAAY,CAGd,4BACE,oBAAqB,CACrB,kBAAmB,CAEnB,kBAA6B,CAC7B,eAAgB,CALlB,iCAQI,oBAAqB,CACrB,gBANc,CAOd,cAAe,CACf,cAAe,CACf,oBAA0B,CAC1B,yBAA6B,CAC7B,cAAe,CAdnB,wCAkBI,kBClOgB,CDmOhB,UAAc,CAIlB,4BACE,iBAAkB,CAClB,iBAAkB,CAClB,kBAAmB,CACnB,kBAAmB,CACnB,eAAmB,CACnB,gBAAiB,CACjB,eAAgB,CAPlB,sCAUI,mBAAa,CAAb,mBAAa,CAAb,YAAa,CACb,wBAAmB,CAAnB,qBAAmB,CAAnB,kBAAmB,CACnB,eAAkB,CAZtB,+CAeM,iBAAkB,CAClB,iBAAkB,CAClB,UAAW,CACX,WAAY,CACZ,iBAAkB,CAClB,kBC3Pc,CD4Pd,eAAgB,CArBtB,mDAwBQ,iBAAkB,CAxB1B,mDA4BQ,iBAAkB,CAClB,UAAW,CACX,WAAY,CA9BpB,6CAmCM,eAAgB,CAChB,iBAAkB,CAClB,eAAgB,CAChB,WAAY,CACZ,sBAAuB,CACvB,kBAAmB,CACnB,cAAe,CACf,UC1Qc,CDgOpB,gDA8CM,cAAe,CACf,oBC7QyB,CD8N/B,8CAmDM,gBAAiB,CACjB,UAAW,CACX,WAAY,CACZ,iBAAkB,CAClB,kBAAmB,CAvDzB,qCA4DI,mBAAoB,CACpB,iBAAkB,CA7DtB,8DAgEM,mBAAa,CAAb,mBAAa,CAAb,YAAa,CAhEnB,0EAmEQ,eAAgB,CAnExB,mDAwEM,cAAe,CACf,oBCxSyB,CDySzB,gBAAiB,CA1EvB,uEA6EQ,UAAW,CACX,gBAAiB,CA9EzB,oCAwFI,iBAAkB,CAClB,UAAW,CACX,OAAQ,CACR,kCAA2B,CAA3B,0BAA2B,CAC3B,kBCnUgB,CDuUpB,yBACE,WAAY,CACZ,WAAY,CACZ,kBC1UkB",file:"Analysis.vue?vue&type=style&index=0&id=55e3d2c4&lang=scss&scoped=true&",sourcesContent:["//覆盖elementUI默认的样式\r\n\r\n/deep/ .el-scrollbar__wrap {\r\n  overflow-x: hidden;\r\n}\r\n","@import 'variables';\r\n@import 'mixins';\r\n@import 'element_ui';\r\n\r\n.off-line {\r\n  img {\r\n    filter: grayscale(100%);\r\n  }\r\n}\r\n",'\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n@import "@ms/index.scss";\n\n.Analysis {\n  height: 100%;\n}\n\n.btn-group {\n  display: inline-block;\n  margin-bottom: 32px;\n  $btnHeight: 24px;\n  border-radius: $btnHeight / 2;\n  overflow: hidden;\n\n  .btn {\n    display: inline-block;\n    line-height: $btnHeight;\n    padding: 0 36px;\n    font-size: 14px;\n    color: rgba(0, 0, 0, 0.20);\n    background: rgba(0, 0, 0, .1);\n    cursor: pointer;\n  }\n\n  .btn.active {\n    background: $colorTheme;\n    color: #ffffff;\n  }\n}\n\n.todo-item {\n  position: relative;\n  padding: 10px 30px;\n  margin-bottom: 20px;\n  border-radius: 12px;\n  background: #ffffff;\n  line-height: 20px;\n  font-weight: 400;\n\n  .item-top {\n    display: flex;\n    align-items: center;\n    margin-bottom: 0px;\n\n    .img-box {\n      position: relative;\n      margin-right: 20px;\n      width: 40px;\n      height: 40px;\n      border-radius: 50%;\n      background: $colorTheme;\n      overflow: hidden;\n\n      div {\n        position: absolute;\n      }\n\n      img {\n        position: absolute;\n        width: 100%;\n        height: 100%;\n      }\n    }\n\n    .title {\n      overflow: hidden;\n      margin-right: 40px;\n      max-width: 300px;\n      height: 21px;\n      text-overflow: ellipsis;\n      white-space: nowrap;\n      font-size: 16px;\n      color: $colorText1;\n    }\n\n    .datetime {\n      font-size: 14px;\n      color: $colorText3;\n    }\n\n    .status {\n      margin-left: 20px;\n      width: 10px;\n      height: 10px;\n      border-radius: 50%;\n      background: #EF3C3C;\n    }\n  }\n\n  .content {\n    padding-right: 100px;\n    padding-left: 60px;\n\n    .content-item.first-item {\n      display: flex;\n\n      .item-group {\n        min-width: 160px;\n      }\n    }\n\n    .content-item {\n      font-size: 14px;\n      color: $colorText2;\n      line-height: 20px;\n\n      .content-item-label {\n        float: left;\n        margin-right: 5px;\n      }\n\n      .content-item-test {\n\n      }\n    }\n  }\n\n  .my-btn {\n    position: absolute;\n    right: 30px;\n    top: 50%;\n    transform: translateY(-50%);\n    background: $colorTheme;\n  }\n}\n\n.my-btn {\n  float: right;\n  border: none;\n  background: $colorTheme;\n}\n','@charset "UTF-8";\r\n// 姜海斌抽离出来的变量 start ===============================================>>\r\n// 所有颜色相关的 ***********************\r\n$colorTheme: #1890ff;                         // 页面整体的主题色\r\n$colorThemePrimary: rgba(219,238,255,0.53);   // 页面整体的主题色\r\n$colorBgPageGray: rgba(240,240,240,1);        // 页面灰色背景\r\n$colorBgBtnGray: #A5ACAA;                     // 灰色按钮\r\n$colorBgSideBar: #001529;                    // 消息左边固定边栏背景色\r\n$colorShadowGreen: rgba(8, 69, 81, 0.1);      // 绿色阴影\r\n\r\n$colorText1: #000000;                     // 主要文字颜色，1级黑\r\n$colorText2: rgba(0, 0, 0, 0.7);          // 常规文字颜色，2级黑\r\n$colorText3: rgba(0, 0, 0, 0.6);          // 常规文字颜色，3级黑\r\n$colorText4: rgba(0, 0, 0, 0.5);          // 常规文字颜色，4级黑\r\n$colorText5: rgba(102,102,102,0.4);          // 常规文字颜色，5级黑\r\n$colorTextSessionTitle: rgba(102,102,102,1);    // session 栏，标题颜色\r\n$colorTextSessionContent: rgba(102,102,102,.8);    // session 栏，内容颜色\r\n$colorTextChatContent: rgba(24,50,112,1); // 聊天文字颜色\r\n\r\n$colorTextBlack2: rgba(0, 0, 0, 0.2);\r\n$colorTextBlack3: rgba(0, 0, 0, 0.3);\r\n$colorTextBlack4: rgba(0, 0, 0, 0.4);\r\n$colorTextBlack5: rgba(0, 0, 0, 0.5);\r\n$colorTextBlack6: rgba(0, 0, 0, 0.6);\r\n$colorTextBlack8: rgba(0, 0, 0, 0.8);\r\n$colorTextBlack9: rgba(0, 0, 0, 0.9);\r\n$colorTextBlack0: rgba(0, 0, 0, 1);\r\n\r\n\r\n$colorBorder1: rgba(102,102,102,0.2);     // 边框颜色，1级黑\r\n$colorBorder2: #e5e5e5;                   // 边框颜色，2级黑\r\n$colorBorderLayoutDark: rgba(112,112,112,0.1);; // 整体布局分割区域用的边框\r\n$colorBorderLayoutLight: rgba(153,153,153,0.1); // 整体布局分割区域用的边框\r\n\r\n// 所有字体相关 ***********************\r\n$fontFamilyMain: Microsoft YaHei;         // 图题字体，页面中最主要的字体\r\n\r\n// 所有尺寸（height width）相关 *************\r\n$sizeSideBarWidth: 60px;       // 消息左边固定边栏宽度\r\n$sizeTopBarHeight: 60px;        // 消息顶部栏高度\r\n$sizeNavBarWidth: 220px;        // 右边窗口左边导航栏宽度\r\n$sizeInputHeight: 30px;         // input框高度\r\n\r\n// 姜海斌抽离出来的变量 end <<=================================================\r\n']}])},"76b5":function(n,t,e){"use strict";e.r(t);var r=function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("div",{staticClass:"Analysis"},[e("el-scrollbar",{staticStyle:{height:"100%"}},[n._l(n.messageUnreadList,function(t){return[e("div",{key:t.code,staticClass:"todo-item item-report"},[e("div",{staticClass:"item-top"},[e("div",{staticClass:"img-box"},[e("avatar",{attrs:{username:t.senderName,rounded:!1,backgroundColor:"transparent",color:"#fff",size:40}}),e("img",{attrs:{src:t.avatar,onerror:"this.style.display='none'"}})],1),e("h3",{staticClass:"title"},[n._v(n._s(t.actionText))]),e("p",{staticClass:"datetime"},[n._v("\n            "+n._s(n._f("formatTime")(t.sendTime))+"\n          ")]),1===t.state?e("i",{staticClass:"status"}):n._e()]),e("div",{staticClass:"content"},[e("div",{staticClass:"content-item"},[e("div",{staticClass:"info"},[n._v(n._s(t.content))])]),e("div",{staticClass:"content-item"},[e("div",{staticClass:"content-item-label"},[n._v("发送人：")]),e("div",{staticClass:"content-item-text"},[n._v(n._s(t.senderName))])]),e("el-button",{staticClass:"my-btn",attrs:{type:"primary",size:"small"},on:{click:n.doReport}},[n._v("去上报")])],1)]),n._e()]})],2)],1)},i=[],a=(e("ac6a"),e("cebc")),o=e("2f62"),s=e("c443"),c=e("1d0a"),d={name:"Analysis",data:function(){return{messageUnreadList:[]}},computed:Object(a["a"])({},Object(o["c"])(["user","messageStore"]),{loginUserId:function(){return this.user.user.id},newServerMsg:function(){return this.messageStore.newServerMsg}}),filters:{formatTime:function(n){return Object(c["a"])(n)}},watch:{newServerMsg:function(n){11021===n.code&&this.messageUnreadList.unshift(n.data)}},methods:{getUnReadMsg:function(){var n=this,t={moduleId:1,page:1,size:20,userId:this.loginUserId};Object(s["j"])(t).then(function(t){console.log("订阅消息",t.data.data),200===t.data.code&&(n.messageUnreadList=t.data.data.data.reverse(),n._eachRead(n.messageUnreadList))}).catch(function(n){console.log("请求message：",n)})},sendReadAll:function(){var n=this,t={userId:this.loginUserId,moduleId:1};Object(s["F"])(t).then(function(t){console.log("消除红点",t),200===t.data.code&&(n.messageUnreadList=t.data.data.data)}).catch(function(n){console.log("消除红点",n)})},sendReadSingle:function(n){var t=this,e={userId:this.loginUserId,moduleId:n,state:2};Object(s["b"])(e).then(function(n){console.log("消除红点",n.data.data),200===n.data.code&&(t.messageUnreadList=n.data.data.data)}).catch(function(n){console.log("消除红点",n)})},doReport:function(){this.$message({type:"success",message:"正在实现中···"})},_eachRead:function(n){var t=this;n.forEach(function(n){1===n.state&&t.sendReadSingle(n.id)})}},mounted:function(){this.getUnReadMsg()}},u=d,l=(e("9734"),e("2877")),p=Object(l["a"])(u,r,i,!1,null,"55e3d2c4",null);t["default"]=p.exports},9734:function(n,t,e){"use strict";var r=e("ddfa"),i=e.n(r);i.a},c443:function(n,t,e){"use strict";e.d(t,"p",function(){return i}),e.d(t,"q",function(){return a}),e.d(t,"B",function(){return o}),e.d(t,"A",function(){return s}),e.d(t,"g",function(){return c}),e.d(t,"s",function(){return d}),e.d(t,"o",function(){return u}),e.d(t,"k",function(){return l}),e.d(t,"h",function(){return p}),e.d(t,"z",function(){return g}),e.d(t,"y",function(){return m}),e.d(t,"j",function(){return A}),e.d(t,"E",function(){return f}),e.d(t,"G",function(){return b}),e.d(t,"x",function(){return h}),e.d(t,"a",function(){return B}),e.d(t,"C",function(){return C}),e.d(t,"c",function(){return x}),e.d(t,"F",function(){return v}),e.d(t,"b",function(){return _}),e.d(t,"m",function(){return k}),e.d(t,"t",function(){return w}),e.d(t,"w",function(){return y}),e.d(t,"v",function(){return j}),e.d(t,"l",function(){return O}),e.d(t,"f",function(){return $}),e.d(t,"u",function(){return I}),e.d(t,"e",function(){return T}),e.d(t,"d",function(){return z}),e.d(t,"n",function(){return U}),e.d(t,"D",function(){return E}),e.d(t,"r",function(){return D}),e.d(t,"i",function(){return M});var r=e("751a");function i(n){return Object(r["a"])({url:"/api/auth/login",method:"post",params:{account:n.usename,password:n.password}})}function a(){return Object(r["a"])({url:"/api/auth/logout",method:"get"})}function o(n){return Object(r["a"])({url:"/api/auth/cnbi_scan",method:"get",params:n})}function s(n){return Object(r["a"])({url:"/api/auth/scan_login_url",method:"get",params:n})}function c(n){return Object(r["a"])({url:"/api/api/file_upload",method:"post",data:n})}function d(n){return Object(r["a"])({url:"/api/api/my_session",method:"get",params:{userId:n}})}function u(n,t){return Object(r["a"])({url:"/api/api/left_user_info",method:"get",params:{userId:n,targetId:t}})}function l(n){return Object(r["a"])({url:"/api/api/find_single_msg",method:"post",data:n})}function p(n){return Object(r["a"])({url:"/api/api/find_group_msg",method:"post",data:n})}function g(n){return Object(r["a"])({url:"/api/api/save_single_msg",method:"post",data:n})}function m(n){return Object(r["a"])({url:"/api/api/save_group_msg",method:"post",data:n})}function A(n){return Object(r["a"])({url:"/api/api/find_module_msg",method:"post",data:n})}function f(n){return Object(r["a"])({url:"/api/api/update_chat_state_time",method:"post",data:n})}function b(n){return Object(r["a"])({url:"/api/api/my_friend_list",method:"get",params:{userId:n}})}function h(n){return Object(r["a"])({url:"/api/api/save_friend",method:"post",data:n})}function B(n){return Object(r["a"])({url:"/api/api/my_company_contact_list",method:"get",params:{userId:n}})}function C(n){return Object(r["a"])({url:"/api/api/search_my_contact",method:"get",params:n})}function x(n,t){return Object(r["a"])({url:"/api/api/contact_info",method:"get",params:{userId:n,targetId:t}})}function v(n){return Object(r["a"])({url:"/api/api/update_module_state_all",method:"put",params:n})}function _(n){return Object(r["a"])({url:"/api/api/change_module_state",method:"put",params:n})}function k(n){return Object(r["a"])({url:"/api/api/help_group_msg",method:"get",params:{userId:n}})}function w(n){return Object(r["a"])({url:"/api/api/new_friend_list",method:"get",params:{userId:n}})}function y(n){return Object(r["a"])({url:"/api/api/refuse_group",method:"put",params:n})}function j(n){return Object(r["a"])({url:"/api/api/refuse_friend",method:"get",params:n})}function O(n){return Object(r["a"])({url:"/api/api/group_info",method:"get",params:{groupId:n}})}function $(n){return Object(r["a"])({url:"/api/api/edit_group",method:"put",params:n})}function I(n){return Object(r["a"])({url:"/api/api/quit_group",method:"delete",params:n})}function T(n){return Object(r["a"])({url:"/api/api/dissolu_group",method:"delete",params:n})}function z(n){return Object(r["a"])({url:"/api/api/del_group_user",method:"post",data:n})}function U(n){return Object(r["a"])({url:"/api/api/join_group",method:"post",data:n})}function E(n){return Object(r["a"])({url:"/api/api/send_group_invite_msg",method:"post",data:n})}function D(n){return Object(r["a"])({url:"/api/api/my_group_list",method:"get",params:{userId:n}})}function M(n,t){return Object(r["a"])({url:"/api/api/find_group_notice",method:"get",params:{groupId:n,userId:t}})}},ddfa:function(n,t,e){var r=e("2f1d");"string"===typeof r&&(r=[[n.i,r,""]]),r.locals&&(n.exports=r.locals);var i=e("499e").default;i("fb71beb6",r,!0,{sourceMap:!0,shadowMode:!1})}}]);